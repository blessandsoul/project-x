import{a as oe,r as i,j as e,I as p,c as A,e as De,F as Le,B as $,f as Me,g as $e,h as Ue,G as ze,H as Ae,b as qe,J as Oe,m as ve,S as G,K as je,M as Ge,N as He}from"./index-zfRgVEOB.js";import{E as Ke}from"./EmptyState-xLIN-iNl.js";import{S as ae,a as le,b as re,c as ie,d as Y}from"./select-CARgG7wi.js";import{C as ue}from"./checkbox-BRaKOQVN.js";import{F as We,a as M,b as ee,c as ye,d as Ne}from"./FiltersSidebarLayout-0SmxjG8T.js";import{I as Ye}from"./image-f0-eSOea.js";import{B as we}from"./badge-CitRu_Pl.js";import{L as ne}from"./label-cOKql5fo.js";import{s as Je}from"./companiesApi-Cij5u3Z3.js";import"./index-CpqltTph.js";const Ce=({className:n,initialSearch:h,onSearchSubmit:g,onSearchChange:v,initialCountry:L,onCountryChange:P,initialCity:m,onCityChange:q,initialMinRating:S,onMinRatingChange:F,initialPriceRange:l,onPriceRangeChange:x,initialIsVip:C,onVipChange:j,onApplyFilters:T,onResetFilters:w})=>{const{t:d}=oe();i.useRef(null),i.useRef(null),i.useRef(null);const[b,E]=i.useState(l??[0,5e3]);i.useEffect(()=>{l&&E(l)},[l]);const[_,U]=i.useState(h??""),[B,I]=i.useState(L??""),[J,H]=i.useState(m??"");i.useEffect(()=>{U(h??"")},[h]),i.useEffect(()=>{I(L??"")},[L]),i.useEffect(()=>{H(m??"")},[m]);const X=e.jsxs(We,{title:d("catalog.filters.title","Filters"),applyButtonText:d("catalog.filters.apply","Apply"),resetButtonText:d("catalog.filters.reset"),onApply:T,onReset:()=>{U(""),I(""),H(""),E([0,0]),x?.([0,0]),w?.()},children:[e.jsx(M,{title:d("common.search"),children:e.jsx(ee,{value:_,onChange:c=>{U(c),v?.(c)},placeholder:d("catalog.filters.search_placeholder","Company name..."),icon:"mdi:magnify",onKeyDown:c=>{c.key==="Enter"&&g?.(_)}})}),e.jsx(M,{title:d("catalog.filters.country","Country"),children:e.jsx(ee,{value:B,onChange:c=>{I(c),P?.(c)},placeholder:d("catalog.filters.country_placeholder","Georgia, USA..."),icon:"mdi:earth",onKeyDown:c=>{c.key==="Enter"&&T?.()}})}),e.jsx(M,{title:d("catalog.filters.city","City"),children:e.jsx(ee,{value:J,onChange:c=>{H(c),q?.(c)},placeholder:d("catalog.filters.city_placeholder","City"),icon:"mdi:map-marker",onKeyDown:c=>{c.key==="Enter"&&T?.()}})}),e.jsx(M,{title:d("catalog.filters.rating"),children:e.jsx(ye,{value:S&&S>0?String(S):"0",onValueChange:c=>{const N=Number(c);Number.isNaN(N)||F?.(N)},options:[{value:"0",label:d("catalog.filters.rating_all")},{value:"3",label:`3+ ${d("common.stars")}`},{value:"4",label:`4+ ${d("common.stars")}`},{value:"5",label:`5 ${d("common.stars")}`}]})}),e.jsx(M,{title:d("catalog.filters.price"),children:e.jsx(Ne,{fromValue:b[0]>0?String(b[0]):"",toValue:b[1]>0?String(b[1]):"",onFromChange:c=>{const s=[Number(c)||0,b[1]];E(s),x?.(s)},onToChange:c=>{const N=Number(c)||0,s=[b[0],N];E(s),x?.(s)},showCurrencyPrefix:!0,inputMode:"numeric"})}),e.jsx(M,{title:d("catalog.filters.vip_only"),defaultOpen:!1,children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-slate-50 px-1 py-0.5 rounded",children:[e.jsx(ue,{checked:!!C,onCheckedChange:c=>j?.(!!c),className:"h-3.5 w-3.5 rounded-sm"}),e.jsxs("span",{className:"text-[11px] text-slate-700 flex items-center gap-1",children:[d("catalog.filters.vip_only"),e.jsx(p,{icon:"mdi:crown",className:"h-3 w-3 text-amber-500"})]})]})})]}),Z=e.jsxs("div",{className:"bg-white",children:[e.jsx(M,{title:d("common.search"),children:e.jsx(ee,{value:_,onChange:c=>{U(c),v?.(c)},placeholder:d("catalog.filters.search_placeholder","Company name..."),icon:"mdi:magnify",onKeyDown:c=>{c.key==="Enter"&&g?.(_)}})}),e.jsx(M,{title:d("catalog.filters.country","Country"),children:e.jsx(ee,{value:B,onChange:c=>{I(c),P?.(c)},placeholder:d("catalog.filters.country_placeholder","Georgia, USA..."),icon:"mdi:earth",onKeyDown:c=>{c.key==="Enter"&&T?.()}})}),e.jsx(M,{title:d("catalog.filters.city_placeholder"),children:e.jsx(ee,{value:J,onChange:c=>{H(c),q?.(c)},placeholder:"თბილისი, ბათუმი...",icon:"mdi:map-marker",onKeyDown:c=>{c.key==="Enter"&&T?.()}})}),e.jsx(M,{title:d("catalog.filters.rating"),children:e.jsx(ye,{value:S&&S>0?String(S):"0",onValueChange:c=>{const N=Number(c);Number.isNaN(N)||F?.(N)},options:[{value:"0",label:d("catalog.filters.rating_all")},{value:"3",label:`3+ ${d("common.stars")}`},{value:"4",label:`4+ ${d("common.stars")}`},{value:"5",label:`5 ${d("common.stars")}`}]})}),e.jsx(M,{title:d("catalog.filters.price"),children:e.jsx(Ne,{fromValue:b[0]>0?String(b[0]):"",toValue:b[1]>0?String(b[1]):"",onFromChange:c=>{const s=[Number(c)||0,b[1]];E(s),x?.(s)},onToChange:c=>{const N=Number(c)||0,s=[b[0],N];E(s),x?.(s)},showCurrencyPrefix:!0,inputMode:"numeric"})}),e.jsx(M,{title:d("catalog.filters.vip_only"),defaultOpen:!1,children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-slate-50 px-1 py-0.5 rounded",children:[e.jsx(ue,{checked:!!C,onCheckedChange:c=>j?.(!!c),className:"h-3.5 w-3.5 rounded-sm"}),e.jsxs("span",{className:"text-[11px] text-slate-700 flex items-center gap-1",children:[d("catalog.filters.vip_only"),e.jsx(p,{icon:"mdi:crown",className:"h-3 w-3 text-amber-500"})]})]})})]});return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:A("hidden lg:block h-fit sticky top-24",n),children:X}),e.jsxs(De,{children:[e.jsx(Le,{asChild:!0,children:e.jsx($,{variant:"outline",className:"lg:hidden w-full h-12 border-slate-200 shadow-sm bg-white justify-between px-4 hover:bg-slate-50",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{icon:"mdi:filter-variant",className:"h-5 w-5 text-slate-700"}),e.jsx("span",{className:"font-semibold text-slate-900",children:d("catalog.filters.title","Filters")})]})})}),e.jsxs(Me,{side:"left",className:"w-full sm:w-[400px] p-0 flex flex-col h-full bg-white",children:[e.jsx($e,{className:"px-2 py-2 bg-primary text-white",children:e.jsxs(Ue,{className:"text-left flex items-center gap-1.5 text-[11px] font-semibold uppercase tracking-wide text-white",children:[e.jsx(p,{icon:"mdi:filter-variant",className:"w-3.5 h-3.5"})," ",d("catalog.filters.title","Filters")]})}),e.jsx("div",{className:"flex-1 overflow-y-auto bg-white border-x border-slate-300",children:Z}),e.jsx(ze,{className:"p-2 bg-slate-50 border-t border-slate-200",children:e.jsxs("div",{className:"flex flex-col gap-1.5 w-full",children:[e.jsx(Ae,{asChild:!0,children:e.jsx($,{className:"w-full h-7 text-[10px] bg-accent hover:bg-accent/90 text-primary font-bold",onClick:T,children:d("catalog.filters.show_results","Show Results")})}),e.jsx($,{variant:"outline",className:"w-full h-7 text-[10px] border-slate-300 text-slate-600 hover:bg-slate-100",onClick:()=>{U(""),I(""),H(""),E([0,0]),x?.([0,0]),w?.()},children:d("catalog.filters.reset")})]})})]})]})]})},Pe=i.memo(({company:n,className:h,isCompareMode:g=!1,isSelected:v,onToggleCompare:L,calculatedShippingPrice:P,hasAuctionBranch:m=!1,isLoadingShipping:q=!1})=>{const S=qe(),{t:F}=oe(),l=j=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(j),x=i.useMemo(()=>n.rating>4.5,[n.rating]),C=()=>{S(`/company/${n.id}`)};return e.jsxs("div",{className:A("relative grid grid-cols-[minmax(0,1fr)_auto_auto] gap-1.5 md:gap-4 items-center rounded-lg border border-slate-200 bg-white shadow-sm px-2 py-2.5 md:px-5 md:py-3 cursor-pointer","transition-all duration-200 hover:bg-slate-50/50 hover:shadow-md hover:border-slate-300",v&&"bg-blue-50/50 border-blue-300 ring-1 ring-blue-200",h),onClick:()=>S(`/company/${n.id}`),children:[g&&e.jsx("div",{className:"absolute -left-6 top-1/2 -translate-y-1/2",onClick:j=>j.stopPropagation(),children:e.jsx(ue,{checked:v,onCheckedChange:j=>L?.(j===!0),className:"h-4 w-4 bg-white"})}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-3 min-w-0",children:[e.jsxs("div",{className:"relative flex-shrink-0 h-11 w-11 md:h-[54px] md:w-[54px]",children:[e.jsx("button",{type:"button",className:"h-full w-full rounded-lg overflow-hidden bg-slate-50 focus:outline-none focus:ring-2 focus:ring-primary/50 cursor-pointer transition-all hover:shadow-sm",onClick:j=>{j.stopPropagation(),C()},children:e.jsx(Ye,{src:n.logo||"/car-logos/toyota.png",alt:`${n.name} logo`,className:"h-full w-full",fallbackSrc:"/car-logos/toyota.png",objectFit:"contain"})}),e.jsx("span",{className:A("absolute -bottom-0.5 -right-0.5 h-2.5 w-2.5 md:h-3 md:w-3 rounded-full ring-2 ring-white pointer-events-none",x?"bg-green-500":"bg-slate-400")})]}),e.jsxs("div",{className:"flex flex-col justify-between min-w-0 flex-1 h-11 md:h-[54px] py-0.5",children:[e.jsx("button",{onClick:j=>{j.stopPropagation(),C()},className:"text-left py-0.5",children:e.jsx("h3",{className:"text-xs md:text-sm font-semibold text-slate-900 hover:text-primary leading-tight transition-colors capitalize",children:n.name})}),e.jsxs("div",{className:"flex items-center gap-1 text-[10px] md:text-xs text-slate-500 leading-none pb-0.5",children:[e.jsx(p,{icon:"mdi:map-marker",className:"h-2.5 w-2.5 md:h-3 md:w-3 flex-shrink-0"}),e.jsx("span",{className:"truncate capitalize",children:n.location?.city||F("catalog.card.default_city","Tbilisi")})]})]})]}),e.jsx("div",{className:"border-l border-slate-100 pl-2 md:pl-4 h-full flex items-center",children:e.jsxs("div",{className:"flex flex-col justify-between h-11 md:h-[54px] py-0.5 w-full",children:[e.jsx("div",{className:"text-lg md:text-xl font-bold text-slate-900 tracking-tight tabular-nums leading-none whitespace-nowrap",children:m&&P!==void 0&&P>=0?l(P):e.jsx("span",{className:"text-sm md:text-base text-slate-400 font-normal",children:"—"})}),e.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 text-[10px] md:text-xs font-medium text-slate-500 leading-tight pb-0.5 whitespace-nowrap",children:[e.jsx(p,{icon:"mdi:truck-fast",className:"h-3 w-3 md:h-4 md:w-4 text-slate-400 flex-shrink-0"}),e.jsxs("span",{children:[e.jsx("span",{className:"text-slate-900",children:"45-60"})," ",F("common.days")]})]})]})}),e.jsx("div",{className:"flex items-center justify-center border-l border-slate-100 pl-2 md:pl-4 h-full",children:e.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 whitespace-nowrap",children:[e.jsx(p,{icon:"mdi:star",className:"h-3 w-3 md:h-4 md:w-4 text-amber-400 fill-current"}),e.jsx("span",{className:"font-semibold text-xs md:text-sm text-slate-700",children:n.rating}),e.jsxs("span",{className:"hidden md:inline text-xs text-slate-400",children:["(",n.reviewCount,")"]})]})})]})});Pe.displayName="CompanyListItem";function Qe({isOpen:n,onClose:h,companies:g}){const v=Math.max(...g.map(l=>l.rating)),L=Math.min(...g.map(l=>l.priceRange?.min??1/0)),P=Math.max(...g.map(l=>l.trustScore??0)),m=g.reduce((l,x)=>{const C=(x.trustScore??0)*100+x.rating*10;if(l===null)return x.id;const j=g.find(w=>w.id===l);if(!j)return x.id;const T=(j.trustScore??0)*100+j.rating*10;return C>T?x.id:l},null),q=({label:l})=>e.jsx("span",{className:"text-[8px] lg:text-[10px] font-semibold text-slate-600 uppercase tracking-tight leading-tight whitespace-pre-line break-words max-w-[68px] lg:max-w-[90px]",children:l}),S=l=>l?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(l):"—",F=[{label:"რეიტინგი",tooltip:"Average rating based on user reviews from Google and internal feedback.",icon:"mdi:star-circle",render:l=>e.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[e.jsxs("div",{className:A("flex items-center gap-1 font-bold text-sm lg:text-base",l.rating===v?"text-amber-500":"text-slate-700"),children:[e.jsx(p,{icon:"mdi:star",className:A("h-3.5 w-3.5",l.rating===v?"text-amber-500":"text-slate-300")}),l.rating]}),e.jsxs("span",{className:"text-[9px] lg:text-[11px] text-slate-400 font-medium",children:[l.reviewCount," შეფასება"]})]})},{label:`სერვისის
საფასური`,tooltip:"The fixed fee charged by the company for their services (buying, documents, etc).",icon:"mdi:cash-multiple",render:l=>{const x=l.priceRange?.min===L;return e.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[e.jsx("span",{className:A("text-base lg:text-lg font-black tracking-tight",x?"text-emerald-600":"text-slate-900"),children:S(l.priceRange?.min)}),l.priceRange?.max&&e.jsxs("span",{className:"text-[8px] lg:text-[10px] text-slate-400 uppercase font-medium",children:["მაქსიმუმ ",S(l.priceRange.max)]}),x&&e.jsx(we,{className:"h-3 lg:h-4 text-[8px] lg:text-[10px] bg-emerald-100 text-emerald-700 hover:bg-emerald-100 border-none px-1.5",children:"საუკეთესო ფასი"})]})}},{label:`სანდოობის
ქულა`,icon:"mdi:shield-check",render:l=>{const x=l.trustScore??0,C=x>=90?"text-emerald-500":x>=70?"text-blue-500":"text-amber-500",j=x===P;return e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsxs("div",{className:"relative h-9 w-9",children:[e.jsxs("svg",{className:"h-full w-full -rotate-90",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"text-slate-100",strokeWidth:"2.5",stroke:"currentColor",fill:"transparent",r:"10",cx:"12",cy:"12"}),e.jsx("circle",{className:C,strokeWidth:"2.5",strokeDasharray:62.8,strokeDashoffset:62.8-62.8*x/100,strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:"10",cx:"12",cy:"12"})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("span",{className:A("text-[10px] lg:text-xs font-bold",C),children:x})})]}),j&&e.jsx("span",{className:"text-[8px] lg:text-[10px] font-bold text-slate-400 uppercase tracking-wide",children:"უმაღლესი სანდოობა"})]})}},{label:`მიწოდების
დრო`,tooltip:"Estimated time from US auction yard to Poti, Georgia.",icon:"mdi:clock-fast",render:()=>e.jsx("span",{className:"text-[10px] lg:text-xs font-bold text-slate-700 bg-slate-100 px-2 py-0.5 rounded-full",children:"45-60 დღე"})},{label:"გამოცდილება",tooltip:"Years the company has been officially registered and operating.",icon:"mdi:briefcase-clock",render:l=>e.jsx("div",{className:"text-xs lg:text-sm font-medium text-slate-600",children:l.establishedYear?e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"font-bold text-slate-900",children:new Date().getFullYear()-l.establishedYear})," წელი"]}):e.jsx("span",{className:"text-slate-300",children:"-"})})},{label:`ოფიციალური
პარტნიორები`,tooltip:"Whether the company is an authorized broker for Copart or IAAI.",icon:"mdi:certificate",render:l=>l.vipStatus?e.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[e.jsx(p,{icon:"mdi:checkbox-marked-circle",className:"h-4 w-4 text-emerald-500"}),e.jsx("span",{className:"text-[8px] lg:text-[10px] font-semibold text-slate-500 uppercase",children:"დადასტურებული ბროკერი"})]}):e.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[e.jsx(p,{icon:"mdi:checkbox-blank-circle-outline",className:"h-4 w-4 text-slate-300"}),e.jsx("span",{className:"text-[8px] lg:text-[10px] font-semibold text-slate-400 uppercase",children:"სტანდარტული წვდომა"})]})},{label:`საწყისი
კონსულტაცია`,tooltip:"Is the initial consultation and calculation free?",icon:"mdi:human-greeting",render:l=>l.onboarding?.isFree?e.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[e.jsx(p,{icon:"mdi:check-circle",className:"h-4 w-4 text-emerald-500"}),e.jsx("span",{className:"text-[9px] lg:text-[11px] font-bold text-emerald-700 uppercase tracking-wide",children:"უფასო კონსულტაცია"})]}):e.jsx("span",{className:"text-[10px] lg:text-xs text-slate-400 font-medium",children:"ფასიანი"})}];return e.jsx(Oe,{children:n&&e.jsxs(ve.div,{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 sm:p-6",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[e.jsx("div",{className:"absolute inset-0 bg-primary/60 backdrop-blur-sm",onClick:h}),e.jsxs(ve.div,{className:"relative bg-white w-full max-w-4xl max-h-[90vh] rounded-2xl shadow-2xl shadow-primary/10 flex flex-col overflow-hidden border-2 border-primary/20",initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-primary via-sub to-accent rounded-t-2xl z-30"}),e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white border-b border-slate-100 shrink-0 z-20 relative",children:[e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx("div",{className:"p-1.5 bg-blue-50 rounded-lg text-blue-600",children:e.jsx(p,{icon:"mdi:compare-horizontal",className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"კომპანიების შედარება"}),e.jsxs("p",{className:"text-xs text-slate-500",children:["ვადარებთ ",g.length," კომპანიას"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"hidden sm:flex items-center text-xs text-slate-500 mr-2",children:[e.jsx(p,{icon:"mdi:information-outline",className:"mr-1 h-3.5 w-3.5"}),e.jsx("span",{children:"გამოკვეთილი უჯრები საუკეთესო მნიშვნელობას აჩვენებს"})]}),e.jsx($,{variant:"ghost",size:"icon",onClick:h,className:"rounded-full hover:bg-slate-100 text-slate-400 hover:text-slate-700",children:e.jsx(p,{icon:"mdi:close",className:"h-5 w-5"})})]})]}),e.jsx("div",{className:"flex-1 overflow-auto relative bg-slate-50/50",children:e.jsx("div",{className:"h-full",children:e.jsxs("div",{className:"min-w-max grid",style:{gridTemplateColumns:`120px repeat(${g.length}, minmax(120px, 1fr))`},children:[e.jsx("div",{className:"sticky top-0 left-0 z-30 bg-slate-50 border-b border-r border-slate-200 p-2.5 flex items-center justify-center",children:e.jsx(p,{icon:"mdi:format-list-bulleted-square",className:"h-4 w-4 text-slate-400"})}),g.map(l=>{const x=l.id===m;return e.jsxs("div",{className:"sticky top-0 z-20 bg-white border-b border-r border-slate-100 p-3 flex flex-col items-center gap-2.5 relative overflow-hidden",children:[x&&e.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-amber-300 via-amber-500 to-amber-300"}),e.jsxs("div",{className:"relative h-10 w-10 group-hover:scale-105 transition-transform",children:[e.jsx("img",{src:l.logo??"",alt:l.name,className:"h-full w-full object-cover rounded-full shadow-sm"}),l.vipStatus&&e.jsx("div",{className:"absolute -top-2 -right-2 bg-white rounded-full p-0.5 shadow-sm ring-1 ring-slate-50",children:e.jsx(p,{icon:"mdi:crown",className:"h-4 w-4 text-amber-500"})})]}),e.jsxs("div",{className:"text-center w-full",children:[e.jsx("h3",{className:"font-semibold text-slate-900 text-[9px] lg:text-xs leading-tight line-clamp-2 mb-0.5 break-words max-w-[80px] mx-auto",children:l.name}),x?e.jsxs(we,{className:"h-4 bg-amber-100 text-amber-800 hover:bg-amber-100 border-amber-200 text-[9px] font-bold shadow-sm",children:[e.jsx(p,{icon:"mdi:trophy",className:"mr-1 h-3 w-3"})," რეკომენდებული"]}):e.jsxs("div",{className:"flex items-center justify-center gap-1 text-xs text-slate-500 h-5",children:[e.jsx(p,{icon:"mdi:map-marker",className:"h-3 w-3"}),l.location?.city||"საქართველო"]})]}),e.jsx($,{size:"sm",variant:"outline",className:"h-7 px-2.5 text-[10px] font-semibold rounded-full border-slate-300 text-slate-700 bg-white hover:bg-slate-100 mt-1",onClick:()=>{window.open(`/company/${l.id}`,"_blank")},children:"არჩევა"})]},l.id)}),F.map(l=>e.jsxs("div",{className:"contents group",children:[e.jsxs("div",{className:"sticky left-0 z-10 bg-white border-r border-slate-200 border-b border-slate-100 px-1.5 py-1 flex items-center gap-1 group-hover:bg-slate-50/80 transition-colors",children:[e.jsx(p,{icon:l.icon,className:"h-3.5 w-3.5 text-slate-400 shrink-0"}),l.tooltip?e.jsx(q,{label:l.label,tooltip:l.tooltip}):e.jsx("span",{className:"text-[8px] font-semibold text-slate-600 uppercase tracking-tight whitespace-pre-line break-words max-w-[68px]",children:l.label})]}),g.map(x=>e.jsx("div",{className:"bg-white border-r border-slate-100 border-b border-slate-100 p-2 flex items-center justify-center group-hover:bg-slate-50/50 transition-colors relative",children:l.render(x)},`${x.id}-${l.label}`))]},l.label)),e.jsx("div",{className:"sticky left-0 z-10 bg-slate-50 border-r border-slate-200 p-2.5"}),g.map(l=>{const x=l.id===m;return e.jsx("div",{className:"bg-slate-50 border-r border-slate-200 p-2.5 flex items-center justify-center",children:e.jsx($,{variant:x?"default":"outline",size:"icon",className:A("rounded-full border-slate-300",x?"bg-emerald-500 text-white hover:bg-emerald-600 border-emerald-500 shadow-sm":"text-slate-500 hover:bg-slate-100 hover:text-slate-900"),children:e.jsx(p,{icon:"mdi:check-bold",className:"h-4 w-4"})})},`cta-${l.id}`)})]})})})]})]})})}const _e=[{value:"standard",label:"Standard"},{value:"heavy",label:"Heavy"}],Be=[{value:"Sedan",label:"Sedan"},{value:"Bike",label:"Bike"},{value:"Small SUV",label:"Small SUV"},{value:"Big SUV",label:"Big SUV"},{value:"Pickup",label:"Pickup"},{value:"Van",label:"Van"},{value:"Big Van",label:"Big Van"}],Se=n=>_e.some(h=>h.value===n),ke=n=>Be.some(h=>h.value===n),Xe=({className:n,initialValues:h,autoSubmit:g=!1,onCalculationComplete:v,onCalculationStart:L,onCalculationClear:P})=>{const{t:m}=oe(),[q,S]=i.useState([]),[F,l]=i.useState([]),[x,C]=i.useState(!0),[j,T]=i.useState(!0),[w,d]=i.useState(h?.city??""),[b,E]=i.useState(h?.destinationPort??""),[_,U]=i.useState(h?.vehicleType&&Se(h.vehicleType)?h.vehicleType:"standard"),[B,I]=i.useState(h?.vehicleCategory&&ke(h.vehicleCategory)?h.vehicleCategory:"Sedan");i.useEffect(()=>{h?.city&&d(h.city),h?.destinationPort&&E(h.destinationPort),h?.vehicleType&&Se(h.vehicleType)&&U(h.vehicleType),h?.vehicleCategory&&ke(h.vehicleCategory)&&I(h.vehicleCategory)},[h]);const[J,H]=i.useState(!1),[X,Z]=i.useState(!1),[c,N]=i.useState(null),[s,R]=i.useState(null);i.useEffect(()=>{let o=!1;return(async()=>{try{C(!0);const f=await je("/cities");!o&&f.success&&S(f.data)}catch{}finally{o||C(!1)}})(),()=>{o=!0}},[]),i.useEffect(()=>{let o=!1;return(async()=>{try{T(!0);const f=await je("/ports");!o&&f.success&&l(f.data)}catch{}finally{o||T(!1)}})(),()=>{o=!0}},[]);const V=()=>w?w.length>30?m("calculator.errors.city_too_long","City name is too long (max 30 characters)"):b?b.length>30?m("calculator.errors.port_too_long","Port name is too long (max 30 characters)"):!_||!["standard","heavy"].includes(_)?m("calculator.errors.vehicle_type_required","Please select a vehicle type"):!B||!["Sedan","Bike","Small SUV","Big SUV","Pickup","Van","Big Van"].includes(B)?m("calculator.errors.vehicle_category_required","Please select a vehicle category"):null:m("calculator.errors.port_required","Please select a destination port"):m("calculator.errors.city_required","Please select a city"),O=async()=>{N(null),R(null),P?.();const o=V();if(o){N(o);return}const te={usacity:w.trim(),destinationport:b.trim(),vehicletype:_,vehiclecategory:B,auction:"Copart"};try{Z(!0),L?.();const f=await Ge("/calculator/quotes",te);R(f),v?.(f,{city:w,destinationPort:b,vehicleType:_,vehicleCategory:B})}catch(f){const k=f instanceof Error?f.message:m("calculator.errors.calculation_failed","Calculation failed. Please try again.");N(k),P?.()}finally{Z(!1)}};i.useEffect(()=>{g&&!J&&!x&&!j&&w&&b&&_&&B&&(H(!0),O())},[g,J,x,j,w,b,_,B]);const K=w&&b&&_&&B;return e.jsxs("div",{className:`rounded-md border border-slate-200 bg-white shadow-sm px-5 py-4 ${n??""}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{icon:"mdi:calculator-variant",className:"h-4 w-4 text-primary"}),e.jsx("h2",{className:"text-base font-semibold text-primary",children:m("calculator.title","Shipping Calculator")})]}),e.jsx("p",{className:"hidden md:block text-xs text-muted-foreground",children:m("calculator.helper_text","Price appears in the company list below.")})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsxs(ne,{htmlFor:"calc-city",className:"text-xs font-medium text-muted-foreground mb-1 block",children:[m("calculator.city","City")," ",e.jsx("span",{className:"text-destructive",children:"*"})]}),x?e.jsx(G,{className:"h-9 w-full"}):e.jsxs(ae,{value:w,onValueChange:d,children:[e.jsx(le,{id:"calc-city",className:"w-full h-9 text-sm",children:e.jsx(re,{placeholder:m("calculator.select_city","Select city...")})}),e.jsxs(ie,{className:"max-h-60",children:[w&&!q.includes(w)&&e.jsx(Y,{value:w,className:"text-sm",children:w},w),q.map(o=>e.jsx(Y,{value:o,className:"text-sm",children:o},o))]})]})]}),e.jsxs("div",{children:[e.jsxs(ne,{htmlFor:"calc-port",className:"text-xs font-medium text-muted-foreground mb-1 block",children:[m("calculator.destination_port","Destination Port")," ",e.jsx("span",{className:"text-destructive",children:"*"})]}),j?e.jsx(G,{className:"h-9 w-full"}):e.jsxs(ae,{value:b,onValueChange:E,children:[e.jsx(le,{id:"calc-port",className:"w-full h-9 text-sm",children:e.jsx(re,{placeholder:m("calculator.select_port","Select port...")})}),e.jsxs(ie,{className:"max-h-60",children:[b&&!F.includes(b)&&e.jsx(Y,{value:b,className:"text-sm",children:m(`calculator.ports.${b}`,b)},b),F.map(o=>e.jsx(Y,{value:o,className:"text-sm",children:m(`calculator.ports.${o}`,o)},o))]})]})]}),e.jsxs("div",{children:[e.jsxs(ne,{htmlFor:"calc-vehicle-type",className:"text-xs font-medium text-muted-foreground mb-1 block",children:[m("calculator.vehicle_type","Vehicle Type")," ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsxs(ae,{value:_,onValueChange:o=>U(o),children:[e.jsx(le,{id:"calc-vehicle-type",className:"w-full h-9 text-sm",children:e.jsx(re,{placeholder:m("calculator.select_vehicle_type","Select type...")})}),e.jsx(ie,{children:_e.map(o=>e.jsx(Y,{value:o.value,className:"text-sm",children:m(`calculator.vehicle_types.${o.value}`,o.label)},o.value))})]})]}),e.jsxs("div",{children:[e.jsxs(ne,{htmlFor:"calc-vehicle-category",className:"text-xs font-medium text-muted-foreground mb-1 block",children:[m("calculator.vehicle_category","Vehicle Category")," ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsxs(ae,{value:B,onValueChange:o=>I(o),children:[e.jsx(le,{id:"calc-vehicle-category",className:"w-full h-9 text-sm",children:e.jsx(re,{placeholder:m("calculator.select_vehicle_category","Select category...")})}),e.jsx(ie,{children:Be.map(o=>e.jsx(Y,{value:o.value,className:"text-sm",children:m(`calculator.vehicle_categories.${o.value}`,o.label)},o.value))})]})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[e.jsx("p",{className:"md:hidden text-xs text-muted-foreground",children:m("calculator.helper_text","Price appears in the company list below.")}),e.jsx($,{onClick:O,disabled:!K||X,className:"w-full md:w-auto md:min-w-[180px] flex items-center justify-center gap-2 bg-[#101B3D] hover:bg-[#0c142f]",children:X?e.jsxs(e.Fragment,{children:[e.jsx(p,{icon:"mdi:loading",className:"h-4 w-4 animate-spin"}),e.jsx("span",{children:m("calculator.calculating","Calculating...")})]}):e.jsxs(e.Fragment,{children:[e.jsx(p,{icon:"mdi:calculator",className:"h-4 w-4"}),e.jsx("span",{children:m("calculator.calculate","Calculate")})]})})]}),c&&e.jsxs("div",{className:"flex items-center gap-2 rounded-md bg-red-50 px-3 py-2 text-xs text-red-700",children:[e.jsx(p,{icon:"mdi:alert-circle",className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{children:c})]}),s&&e.jsxs("div",{className:"flex items-center gap-2 rounded-md bg-emerald-50 px-3 py-2 text-xs text-emerald-700",children:[e.jsx(p,{icon:"mdi:check-circle",className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{children:m("calculator.price_shown_in_list","Price is displayed in the company list below.")})]})]})]})},ot=()=>{const{t:n}=oe(),h=He(),[g,v]=i.useState(1),L=()=>{v(1)},P=12,[m,q]=i.useState([]),[S,F]=i.useState(!0),[l,x]=i.useState(!1),[C,j]=i.useState([]),[T,w]=i.useState(!1),[d,b]=i.useState(new Map),[E,_]=i.useState(null),[U,B]=i.useState(!1),[I,J]=i.useState(!1),[H]=i.useState(()=>{const t=new URLSearchParams(window.location.search),a=t.get("calc_city")??"",r=t.get("calc_port")??"",u=t.get("calc_type")??"",y=t.get("calc_category")??"";if(a&&r&&u&&y)return{city:a,destinationPort:r,vehicleType:u,vehicleCategory:y}}),[X]=i.useState(()=>{const t=new URLSearchParams(window.location.search),a=t.get("calc_city")??"",r=t.get("calc_port")??"",u=t.get("calc_type")??"",y=t.get("calc_category")??"";return!!(a&&r&&u&&y)}),[Z,c]=i.useState(null),N={search:"",country:"",city:"",minRating:void 0,minBasePrice:void 0,maxBasePrice:void 0,isVip:!1,orderBy:"rating"},[s,R]=i.useState(N),V=i.useRef(""),O=i.useRef(""),K=i.useRef(""),o=i.useRef([0,0]),te=t=>{j(a=>a.includes(t)?a.filter(r=>r!==t):a.length>=3?a:[...a,t])},f=i.useCallback(async(t,a)=>{F(!0);try{const r=(t-1)*P,{companies:u,total:y}=await Je({limit:P,offset:r,search:a.search||void 0,country:a.country||void 0,city:a.city||void 0,minRating:typeof a.minRating=="number"&&a.minRating>0?a.minRating:void 0,minBasePrice:typeof a.minBasePrice=="number"&&a.minBasePrice>0?a.minBasePrice:void 0,orderBy:a.orderBy!=="rating"?a.orderBy:void 0,maxBasePrice:typeof a.maxBasePrice=="number"&&a.maxBasePrice>0?a.maxBasePrice:void 0,isVip:a.isVip===!0});q(u),c(typeof y=="number"?y:u.length),v(t)}catch{}finally{F(!1)}},[P]),k=i.useCallback((t,a)=>{if(typeof window>"u")return;const r=new URLSearchParams(window.location.search),u=t.search.trim();u.length>0?r.set("q",u):r.delete("q");const y=t.country.trim();y.length>0?r.set("country",y):r.delete("country");const D=t.city.trim();D.length>0?r.set("city",D):r.delete("city"),t.orderBy&&t.orderBy!=="rating"?r.set("sort",t.orderBy):r.delete("sort"),typeof t.minRating=="number"&&t.minRating>0?r.set("min_rating",String(t.minRating)):r.delete("min_rating"),t.isVip?r.set("is_vip","true"):r.delete("is_vip"),typeof t.minBasePrice=="number"&&t.minBasePrice>0?r.set("min_price",String(t.minBasePrice)):r.delete("min_price"),typeof t.maxBasePrice=="number"&&t.maxBasePrice>0?r.set("max_price",String(t.maxBasePrice)):r.delete("max_price"),a>1?r.set("page",String(a)):r.delete("page");const Q=r.toString(),z=Q.length>0?`?${Q}`:"",ce=`${h.pathname}${z}`;window.history.replaceState(null,"",ce)},[h.pathname]);i.useEffect(()=>{const t=new URLSearchParams(window.location.search),a=(t.get("q")??"").trim(),r=(t.get("country")??"").trim(),u=(t.get("city")??"").trim(),y=t.get("min_rating"),D=y?Number(y):void 0,z=t.get("is_vip")==="true",ce=t.get("min_price"),ge=t.get("max_price"),me=ce?Number(ce):void 0,xe=ge?Number(ge):void 0,he=t.get("sort"),Ee=he==="newest"||he==="cheapest"?he:"rating",fe=t.get("page"),Ie=fe?Math.max(1,parseInt(fe,10)||1):1,be={search:a,country:r,city:u,minRating:Number.isNaN(D)?void 0:D,minBasePrice:Number.isNaN(me)?void 0:me,maxBasePrice:Number.isNaN(xe)?void 0:xe,isVip:z,orderBy:Ee};R(be),V.current=a,O.current=r,K.current=u,o.current=[me??0,xe??0],f(Ie,be)},[f]);const se=Z??m.length,W=se>0?Math.ceil(se/P):1,pe=W===0?1:Math.min(g,W),de=i.useMemo(()=>m,[m]),Re=i.useCallback((t,a)=>{const r=new Map;if(t.quotes&&Array.isArray(t.quotes))for(const Q of t.quotes)r.set(Q.companyId,Q.totalPrice);b(r);const u=t.defaultPrice??t.data?.transportation_total??t.transportation_total??null;_(u),J(!0),B(!1);const y=new URLSearchParams(window.location.search);y.set("calc_city",a.city),y.set("calc_port",a.destinationPort),y.set("calc_type",a.vehicleType),y.set("calc_category",a.vehicleCategory);const D=`${h.pathname}?${y.toString()}`;window.history.replaceState(null,"",D)},[h.pathname]),Ve=i.useCallback(()=>{B(!0)},[]),Fe=i.useCallback(()=>{b(new Map),_(null),J(!1),B(!1)},[]),Te=i.useMemo(()=>e.jsxs(e.Fragment,{children:[I&&e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 bg-white p-3 border border-slate-200",children:[e.jsxs("p",{className:"text-[12px] font-medium text-slate-600",children:[n("catalog.results.showing")," ",e.jsx("span",{className:"font-bold text-slate-900",children:de.length})," ",n("catalog.results.connector")," ",e.jsx("span",{className:"font-bold text-slate-900",children:se})," ",n("catalog.results.of")]}),e.jsx("div",{className:"flex items-center gap-2 sm:gap-3 w-full sm:w-auto sm:justify-end",children:e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 sm:ml-auto",children:[e.jsx("span",{className:"text-[11px] text-slate-500 whitespace-nowrap hidden sm:inline",children:n("catalog.results.sort_label")}),e.jsxs(ae,{value:s.orderBy,onValueChange:t=>{if(t===s.orderBy)return;const a={...s,orderBy:t};R(a),v(1),f(1,a),k(a,1)},children:[e.jsx(le,{className:"w-auto min-w-[120px] sm:w-[160px] h-7 text-[11px] bg-white border-slate-200",children:e.jsx(re,{})}),e.jsxs(ie,{children:[e.jsx(Y,{value:"rating",className:"text-[11px]",children:n("catalog.sort.rating")}),e.jsx(Y,{value:"cheapest",className:"text-[11px]",children:n("catalog.sort.cheapest")}),e.jsx(Y,{value:"newest",className:"text-[11px]",children:n("catalog.sort.newest")})]})]})]})})]}),I?S?e.jsx("div",{className:"grid gap-3 xl:gap-4 grid-cols-1",children:[1,2,3,4,5,6].map(t=>e.jsxs("div",{className:"rounded-md border border-slate-200 bg-white shadow-sm px-4 py-3 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(G,{className:"h-12 w-12 xl:h-14 xl:w-14 rounded-2xl shrink-0"}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx(G,{className:"h-4 w-28"}),e.jsx(G,{className:"h-3 w-16"})]})]}),e.jsx("div",{className:"flex justify-between",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx(G,{className:"h-3 w-20"}),e.jsx(G,{className:"h-3 w-16"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-3 w-12"}),e.jsxs("div",{className:"ml-auto flex gap-1.5",children:[e.jsx(G,{className:"h-7 w-16"}),e.jsx(G,{className:"h-7 w-16"})]})]})]},t))}):se>0?e.jsx("div",{className:"grid gap-3 xl:gap-4 grid-cols-1",children:de.map(t=>e.jsx(Pe,{company:t,isCompareMode:l,isSelected:C.includes(t.id),onToggleCompare:()=>te(t.id),hasAuctionBranch:I,isLoadingShipping:U,calculatedShippingPrice:d.get(t.id)??E??void 0},t.id))}):e.jsx(Ke,{title:n("catalog.results.empty_title"),description:n("catalog.results.empty_description"),icon:"mdi:clipboard-text-off-outline",action:e.jsx($,{onClick:L,variant:"outline",children:n("catalog.filters.reset")})}):e.jsxs("div",{className:"py-16 text-center",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:n("catalog.results.use_calculator_title","Companies will appear here")}),e.jsx("p",{className:"text-xs text-muted-foreground/60 mt-1",children:n("catalog.results.use_calculator_hint","Fill in the calculator to see offers")})]}),!S&&W>1&&e.jsxs("div",{className:"flex justify-center items-center gap-1 mt-6",children:[e.jsx($,{id:"catalog-prev-page",type:"button",variant:"outline",size:"sm",onClick:()=>{if(g<=1)return;const t=g-1;v(t),f(t,s),k(s,t),window.scrollTo({top:0,behavior:"smooth"})},disabled:g<=1,"aria-disabled":g<=1,className:A("h-7 w-7 p-0 flex items-center justify-center text-[11px] transition-all",g<=1?"border-slate-200 text-slate-400 bg-transparent cursor-not-allowed":"border-slate-300 text-slate-600 bg-white hover:bg-slate-50"),children:e.jsx(p,{icon:"mdi:chevron-left",className:"h-4 w-4"})}),e.jsx("div",{className:"flex items-center gap-0.5",children:Array.from({length:W},(t,a)=>a+1).map(t=>{const a=t===pe;return e.jsx("button",{type:"button",onClick:()=>{a||(v(t),f(t,s),k(s,t),window.scrollTo({top:0,behavior:"smooth"}))},"aria-current":a?"page":void 0,className:A("h-7 min-w-[28px] px-2 text-[11px] font-medium transition-all border flex items-center justify-center",a?"bg-primary border-primary text-white":"bg-white border-slate-200 text-slate-700 hover:bg-slate-50"),children:t},t)})}),e.jsx($,{id:"catalog-next-page",type:"button",variant:"outline",size:"sm",onClick:()=>{if(g>=W)return;const t=g+1;v(t),f(t,s),k(s,t),window.scrollTo({top:0,behavior:"smooth"})},disabled:g>=W,"aria-disabled":g>=W,className:A("h-7 w-7 p-0 flex items-center justify-center text-[11px] transition-all",g>=W?"border-slate-200 text-slate-400 bg-transparent cursor-not-allowed":"border-slate-300 text-slate-600 bg-white hover:bg-slate-50"),children:e.jsx(p,{icon:"mdi:chevron-right",className:"h-4 w-4"})})]})]}),[n,de,se,l,C,S,W,pe,L,g,s,f,k,I,U,d,E]);return e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx("div",{className:"bg-white border-b border-slate-200",children:e.jsxs("div",{className:"w-full max-w-[1400px] mx-auto px-4 py-4",children:[e.jsx("h1",{className:"text-xl font-bold text-slate-900",children:n("catalog.title")}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:n("catalog.subtitle")})]})}),e.jsx("main",{className:"w-full max-w-[1400px] mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("aside",{className:"hidden lg:block w-[240px] flex-shrink-0 sticky top-4",children:e.jsx(Ce,{initialSearch:s.search,initialCountry:s.country,initialCity:s.city,initialMinRating:s.minRating,initialPriceRange:[s.minBasePrice??0,s.maxBasePrice??0],initialIsVip:s.isVip,onSearchChange:t=>{V.current=t},onCountryChange:t=>{O.current=t},onCityChange:t=>{K.current=t},onPriceRangeChange:t=>{o.current=t},onApplyFilters:()=>{const t=V.current.trim(),a=O.current.trim(),r=K.current.trim(),u=o.current,y=u[0]>0?u[0]:void 0,D=u[1]>0?u[1]:void 0;if(!(t!==s.search||a!==s.country||r!==s.city||y!==s.minBasePrice||D!==s.maxBasePrice))return;const z={...s,search:t,country:a,city:r,minBasePrice:y,maxBasePrice:D};R(z),v(1),f(1,z),k(z,1)},onResetFilters:()=>{s.search===""&&s.country===""&&s.city===""&&s.minRating===void 0&&s.minBasePrice===void 0&&s.maxBasePrice===void 0&&s.isVip===!1&&s.orderBy==="rating"||(V.current="",O.current="",K.current="",o.current=[0,0],R(N),v(1),f(1,N),k(N,1))},onSearchSubmit:t=>{const a=t.trim();V.current=a;const r={...s,search:a};R(r),v(1),f(1,r),k(r,1)},onMinRatingChange:t=>{const a=t>0?t:void 0,r=V.current??s.search,u={...s,search:r,minRating:a};R(u),v(1),f(1,u),k(u,1)},onVipChange:t=>{const a=V.current??s.search,r={...s,search:a,isVip:t};R(r),v(1),f(1,r),k(r,1)}})}),e.jsxs("div",{className:"flex-1 min-w-0 space-y-4",children:[e.jsx("div",{className:"lg:hidden",children:e.jsx(Ce,{initialSearch:s.search,initialCountry:s.country,initialCity:s.city,initialMinRating:s.minRating,initialPriceRange:[s.minBasePrice??0,s.maxBasePrice??0],initialIsVip:s.isVip,onSearchChange:t=>{V.current=t},onCountryChange:t=>{O.current=t},onCityChange:t=>{K.current=t},onPriceRangeChange:t=>{o.current=t},onApplyFilters:()=>{const t=V.current.trim(),a=O.current.trim(),r=K.current.trim(),u=o.current,y=u[0]>0?u[0]:void 0,D=u[1]>0?u[1]:void 0;if(!(t!==s.search||a!==s.country||r!==s.city||y!==s.minBasePrice||D!==s.maxBasePrice))return;const z={...s,search:t,country:a,city:r,minBasePrice:y,maxBasePrice:D};R(z),v(1),f(1,z),k(z,1)},onResetFilters:()=>{s.search===""&&s.country===""&&s.city===""&&s.minRating===void 0&&s.minBasePrice===void 0&&s.maxBasePrice===void 0&&s.isVip===!1&&s.orderBy==="rating"||(V.current="",O.current="",K.current="",o.current=[0,0],R(N),v(1),f(1,N),k(N,1))},onSearchSubmit:t=>{const a=t.trim();V.current=a;const r={...s,search:a};R(r),v(1),f(1,r),k(r,1)},onMinRatingChange:t=>{const a=t>0?t:void 0,r=V.current??s.search,u={...s,search:r,minRating:a};R(u),v(1),f(1,u),k(u,1)},onVipChange:t=>{const a=V.current??s.search,r={...s,search:a,isVip:t};R(r),v(1),f(1,r),k(r,1)}})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsx(Xe,{initialValues:H,autoSubmit:X,onCalculationComplete:Re,onCalculationStart:Ve,onCalculationClear:Fe}),e.jsxs("div",{className:"rounded-md border border-slate-200 bg-white shadow-sm px-5 py-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(p,{icon:"mdi:information-outline",className:"h-4 w-4 text-primary"}),e.jsx("h3",{className:"text-base font-semibold text-primary",children:n("calculator.info.title","How It Works")})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:n("calculator.info.description","Use this calculator to estimate shipping and import costs for your vehicle from the USA to Georgia.")}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-start gap-2 text-sm text-muted-foreground",children:[e.jsx(p,{icon:"mdi:check-circle",className:"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:n("calculator.info.point1","Select your pickup city and destination port")})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-muted-foreground",children:[e.jsx(p,{icon:"mdi:check-circle",className:"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:n("calculator.info.point2","Choose your vehicle type and category")})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm text-muted-foreground",children:[e.jsx(p,{icon:"mdi:check-circle",className:"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:n("calculator.info.point3","Compare prices from multiple import companies")})]})]}),e.jsx("div",{className:"mt-4 pt-3 border-t border-slate-100",children:e.jsx("p",{className:"text-xs text-muted-foreground/80 italic",children:n("calculator.info.disclaimer","Prices are indicative estimates and may vary based on actual conditions.")})})]})]}),Te]})]})}),C.length>0&&e.jsxs("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-1.5 items-end",children:[e.jsxs($,{variant:"outline",size:"sm",onClick:()=>{j([]),x(!1)},className:"shadow-md bg-white hover:bg-slate-50 text-slate-600 border-slate-300 h-7 text-[11px] px-3",children:[e.jsx(p,{icon:"mdi:close",className:"h-3.5 w-3.5 mr-1"}),n("catalog.comparison.cancel")]}),e.jsxs($,{onClick:()=>w(!0),className:"bg-primary hover:bg-primary/90 text-white shadow-lg px-4 h-10 flex items-center gap-2 transition-all text-[12px] font-semibold",children:[e.jsxs("div",{className:"relative",children:[e.jsx(p,{icon:"mdi:compare-horizontal",className:"h-5 w-5"}),e.jsx("span",{className:"absolute -top-1.5 -right-1.5 bg-accent text-primary text-[9px] font-bold h-4 w-4 flex items-center justify-center rounded-full",children:C.length})]}),e.jsx("span",{children:n("catalog.comparison.compare_now")})]})]}),e.jsx(Qe,{isOpen:T,onClose:()=>w(!1),companies:m.filter(t=>C.includes(t.id))})]})};export{ot as default};
