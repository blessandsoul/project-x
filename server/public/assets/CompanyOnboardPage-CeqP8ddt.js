import{r as i,j as e,c as Z,l as Pe,ay as Q,av as Fe,b as Ee,x as Le,X as P,I as l,W as y,B as _}from"./index-CIs9PTNC.js";import{u as Ae,a as ze,F as Be,b as h,c as x,d as g,e as j,g as f,f as V,o as Re,h as Ie,s as k,l as S}from"./form-BqAXbZEx.js";import{C as F,a as E,b as A,c as z,d as B}from"./card-DxlEVSk-.js";import{T as J}from"./textarea-RNN0Bmvp.js";import{L as q}from"./label-i423U0_n.js";import{B as de}from"./badge-D-2LZ1SG.js";import{S as me}from"./separator-DkinH34v.js";import{f as Me}from"./services-Cnmj3-PH.js";import{n as I}from"./coerce-DTalwLBX.js";const _e=Pe("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),X=i.forwardRef(({className:a,variant:r,...o},p)=>e.jsx("div",{ref:p,role:"alert",className:Z(_e({variant:r}),a),...o}));X.displayName="Alert";const We=i.forwardRef(({className:a,...r},o)=>e.jsx("h5",{ref:o,className:Z("mb-1 font-medium leading-none tracking-tight",a),...r}));We.displayName="AlertTitle";const H=i.forwardRef(({className:a,...r},o)=>e.jsx("div",{ref:o,className:Z("text-sm [&_p]:leading-relaxed",a),...r}));H.displayName="AlertDescription";async function Ye(a){try{return(await Q.post("/companies/onboard",a)).data}catch(r){throw Ge(r)}}function Ge(a){if(!Fe.isAxiosError(a))return{type:"unknown",message:a instanceof Error?a.message:"An unexpected error occurred"};const r=a.response?.status,o=a.response?.data;if(!a.response)return{type:"network",message:"Network error. Please check your connection and try again."};switch(r){case 401:return{type:"unauthorized",message:"Please log in to create a company."};case 403:return{type:"forbidden",message:o?.message||"Your account is blocked. Please contact support."};case 409:return{type:"conflict",message:o?.message||"You already have a company."};case 422:return{type:"validation",message:o?.message||"Please check your input and try again.",details:o?.details};case 429:return{type:"rate_limit",message:"Too many attempts. Please try again later."};default:return{type:"unknown",message:o?.message||"An unexpected error occurred. Please try again."}}}const G=2*1024*1024,Te=["image/jpeg","image/png","image/webp"];function ue(a){return Te.includes(a.type)?a.size>G?{valid:!1,error:`File too large. Maximum size: ${G/1048576} MB`}:{valid:!0}:{valid:!1,error:"Invalid file type. Allowed: JPEG, PNG, WEBP"}}function Ue(a){return a<1024?`${a} B`:a<1024*1024?`${(a/1024).toFixed(1)} KB`:`${(a/(1024*1024)).toFixed(2)} MB`}async function De(a,r){const o=ue(r);if(!o.valid)throw{type:"validation",message:o.error};const p=new FormData;p.append("file",r);try{return(await Q.post(`/companies/${a}/logo`,p,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(n){if(n.response){const u=n.response.status,m=n.response.data;switch(u){case 400:case 422:throw{type:"validation",message:m?.message||"Invalid file. Please check file type and size."};case 401:throw{type:"unauthorized",message:"Please log in to upload logo."};case 403:throw{type:"forbidden",message:m?.message||"You do not have permission to upload logo for this company."};case 404:throw{type:"not_found",message:"Company not found."};default:throw{type:"unknown",message:m?.message||"Failed to upload logo. Please try again."}}}throw n.response?{type:"unknown",message:"An unexpected error occurred while uploading logo."}:{type:"network",message:"Network error. Please check your connection and try again."}}}function K(a){try{const r=new URL(a);return r.protocol==="http:"||r.protocol==="https:"}catch{return!1}}function Y(a){const r=a.trim();return!r.startsWith("http://")&&!r.startsWith("https://")?`https://${r}`:r}async function he(a,r,o,p){const n=Y(o);if(!K(n))throw{type:"validation",message:"Invalid URL format",url:n};if(r==="social"&&!p)throw{type:"validation",message:"Platform is required for social links",url:n};const u={link_type:r,url:n};r==="social"&&p&&(u.platform=p);try{return(await Q.post(`/companies/${a}/social-links`,u)).data}catch(m){if(m.response){const R=m.response.status,L=m.response.data;switch(R){case 400:case 422:throw{type:"validation",message:L?.message||"Invalid input",url:n};case 401:throw{type:"unauthorized",message:"Please log in to add links.",url:n};case 403:throw{type:"forbidden",message:L?.message||"You do not have permission to add links to this company.",url:n};case 404:throw{type:"not_found",message:"Company not found.",url:n};case 409:throw{type:"conflict",message:L?.message||"Link limit reached or duplicate.",url:n};default:throw{type:"unknown",message:L?.message||"Failed to add link.",url:n}}}throw m.response?{type:"unknown",message:"An unexpected error occurred.",url:n}:{type:"network",message:"Network error while adding link.",url:n}}}async function $e(a,r){return he(a,"website",r)}async function Oe(a,r,o){return he(a,"social",o,r)}async function Ve(a,r,o){const p={website:null,social_links:[],errors:[]};if(r&&r.trim())try{p.website=await $e(a,r)}catch(n){const u=n;p.errors.push({type:u.type,message:u.message,url:r})}for(const n of o.slice(0,2))if(n.url&&n.url.trim())try{const u=await Oe(a,n.platform,n.url);p.social_links.push(u)}catch(u){const m=u;p.errors.push({type:m.type,message:m.message,url:n.url})}return p}const Je=Re({name:k().min(1,"Company name is required").max(255),companyPhone:k().max(50).optional().or(S("")),contactEmail:k().email("Invalid email address").max(255).optional().or(S("")),country:k().max(100).optional().or(S("")),city:k().max(100).optional().or(S("")),state:k().max(100).optional().or(S("")),descriptionGeo:k().max(5e3).optional().or(S("")),descriptionEng:k().max(5e3).optional().or(S("")),descriptionRus:k().max(5e3).optional().or(S("")),establishedYear:I().min(1900).max(2100).optional().or(S("")),services:Ie(k()).max(20).optional(),basePrice:I().min(0).optional(),pricePerMile:I().min(0).optional(),customsFee:I().min(0).optional(),serviceFee:I().min(0).optional(),brokerFee:I().min(0).optional()}),pe={idle:"",creating:"Creating company...",uploading_logo:"Uploading logo...",adding_links:"Adding website and social links...",refreshing:"Finalizing...",done:"Complete!"},ts=()=>{const a=Ee(),{refreshProfile:r}=Le(),o=i.useRef(null),[p,n]=i.useState(!1),[u,m]=i.useState("idle"),[R,L]=i.useState(null),[xe,ge]=i.useState([]),[je,fe]=i.useState(!0),[T,ye]=i.useState(""),[ee,ve]=i.useState(null),[w,U]=i.useState([]),[M,D]=i.useState(null),[se,$]=i.useState(null),[ae,O]=i.useState(null),[re,te]=i.useState([]),c=Ae({resolver:ze(Je),defaultValues:{name:"",companyPhone:"",contactEmail:"",country:"",city:"",state:"",descriptionGeo:"",descriptionEng:"",descriptionRus:"",establishedYear:void 0,services:[],basePrice:0,pricePerMile:0,customsFee:0,serviceFee:0,brokerFee:0}}),N=c.watch("services")||[],we=i.useCallback(s=>{const t=s.trim();if(t){if(N.length>=20){P.error("Maximum 20 services allowed");return}if(N.includes(t)){P.error("Service already added");return}c.setValue("services",[...N,t])}},[N,c]),ne=i.useCallback(s=>{c.setValue("services",N.filter(t=>t!==s))},[N,c]);i.useEffect(()=>{let s=!0;async function t(){try{const d=await Me();s&&ge(d)}catch{}finally{s&&fe(!1)}}return t(),()=>{s=!1}},[]);const be=i.useCallback(()=>{if(w.length>=2)return;const t=w.map(d=>d.platform).includes("facebook")?"instagram":"facebook";U([...w,{platform:t,url:""}])},[w]),Ne=i.useCallback(s=>{U(w.filter((t,d)=>d!==s))},[w]),oe=i.useCallback((s,t,d)=>{U(b=>{const v=[...b];return t==="platform"?v[s]={...v[s],platform:d}:v[s]={...v[s],url:d},v})},[]),ie=w.map(s=>s.platform),ke=i.useCallback(s=>{O(null);const t=s.target.files?.[0];if(!t){D(null),$(null);return}const d=ue(t);if(!d.valid){O(d.error||"Invalid file"),s.target.value="";return}D(t);const b=new FileReader;b.onload=v=>{$(v.target?.result)},b.readAsDataURL(t)},[]),Se=i.useCallback(()=>{D(null),$(null),O(null),o.current&&(o.current.value="")},[]),Ce=async s=>{n(!0),L(null),te([]),m("creating");let t=null;const d=[];try{const b=T.trim()?Y(T.trim()):void 0,v={name:s.name,companyPhone:s.companyPhone||void 0,contactEmail:s.contactEmail||void 0,website:b,country:s.country||void 0,city:s.city||void 0,state:s.state||void 0,descriptionGeo:s.descriptionGeo||void 0,descriptionEng:s.descriptionEng||void 0,descriptionRus:s.descriptionRus||void 0,establishedYear:s.establishedYear||void 0,services:s.services?.length?s.services:void 0,basePrice:s.basePrice||void 0,pricePerMile:s.pricePerMile||void 0,customsFee:s.customsFee||void 0,serviceFee:s.serviceFee||void 0,brokerFee:s.brokerFee||void 0};if(t=(await Ye(v)).company.id,M&&t){m("uploading_logo");try{await De(t,M)}catch(C){d.push(`Logo upload failed: ${C.message||"Unknown error"}`)}}const le=b&&K(b),ce=w.filter(C=>C.url.trim()&&K(Y(C.url.trim())));if((le||ce.length>0)&&t){m("adding_links");try{const C=await Ve(t,le?b:null,ce.map(W=>({platform:W.platform,url:Y(W.url.trim())})));C.errors.length>0&&d.push(`Some links failed to save: ${C.errors.map(W=>W.message).join(", ")}`)}catch{d.push("Failed to save website/social links")}}m("refreshing"),await r(),m("done"),te(d),d.length>0?P.warning("Company created with some issues",{description:"Some extras failed. You can update them in company settings."}):P.success("Company created successfully!"),setTimeout(()=>{a(`/company/${t}`,{replace:!0})},1e3)}catch(b){const v=b;switch(L(v),m("idle"),v.type){case"unauthorized":P.error("Please log in to continue"),a("/login",{replace:!0});break;case"conflict":P.error("You already have a company"),await r(),a("/dashboard",{replace:!0});break;case"rate_limit":P.error("Too many attempts. Please try again later.");break;default:P.error(v.message)}}finally{u!=="done"&&(n(!1),m("idle"))}};return e.jsx("div",{className:"min-h-screen bg-background py-8 px-4 lg:px-8",children:e.jsxs("div",{className:"w-full lg:max-w-[1440px] lg:mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"flex items-center justify-center gap-2 mb-4",children:e.jsx(l,{icon:"mdi:truck-fast",className:"h-10 w-10 text-primary"})}),e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Create Your Company"}),e.jsx("p",{className:"text-muted-foreground max-w-lg mx-auto",children:"Set up your logistics company profile to start offering shipping services on Trusted Importers."})]}),R&&R.type!=="unauthorized"&&R.type!=="conflict"&&e.jsxs(X,{variant:"destructive",children:[e.jsx(l,{icon:"mdi:alert-circle",className:"h-4 w-4"}),e.jsx(H,{children:R.message})]}),re.length>0&&e.jsxs(X,{children:[e.jsx(l,{icon:"mdi:alert",className:"h-4 w-4"}),e.jsxs(H,{children:[e.jsx("p",{className:"font-medium",children:"Company created, but some extras failed:"}),e.jsx("ul",{className:"list-disc list-inside mt-1 text-sm",children:re.map((s,t)=>e.jsx("li",{children:s},t))}),e.jsx("p",{className:"text-sm mt-2",children:"You can update these in company settings."})]})]}),p&&u!=="idle"&&e.jsx(F,{className:"border-primary/50 bg-primary/5",children:e.jsx(E,{className:"py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(l,{icon:"mdi:loading",className:"h-5 w-5 animate-spin text-primary"}),e.jsx("span",{className:"font-medium",children:pe[u]})]})})}),e.jsx(Be,{...c,children:e.jsxs("form",{onSubmit:c.handleSubmit(Ce),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(F,{className:"shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs(A,{children:[e.jsxs(z,{className:"flex items-center gap-2",children:[e.jsx(l,{icon:"mdi:domain",className:"h-5 w-5"}),"Company Information"]}),e.jsx(B,{children:"Basic information about your company"})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsx(h,{control:c.control,name:"name",render:({field:s})=>e.jsxs(x,{children:[e.jsx(g,{children:"Company Name *"}),e.jsx(j,{children:e.jsx(y,{placeholder:"Enter your company name",...s})}),e.jsx(f,{})]})}),e.jsx(h,{control:c.control,name:"companyPhone",render:({field:s})=>e.jsxs(x,{children:[e.jsx(g,{children:"Phone Number"}),e.jsx(j,{children:e.jsx(y,{placeholder:"+1-555-123-4567",...s})}),e.jsx(f,{})]})}),e.jsx(h,{control:c.control,name:"contactEmail",render:({field:s})=>e.jsxs(x,{children:[e.jsx(g,{children:"Contact Email"}),e.jsx(j,{children:e.jsx(y,{type:"email",placeholder:"contact@company.com",...s})}),e.jsx(f,{})]})}),e.jsx(h,{control:c.control,name:"establishedYear",render:({field:s})=>e.jsxs(x,{children:[e.jsx(g,{children:"Established Year"}),e.jsx(j,{children:e.jsx(y,{type:"number",placeholder:"2015",min:1900,max:2100,...s})}),e.jsx(f,{})]})})]})]}),e.jsxs(F,{className:"shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs(A,{children:[e.jsxs(z,{className:"flex items-center gap-2",children:[e.jsx(l,{icon:"mdi:text-box-multiple",className:"h-5 w-5"}),"Company Descriptions"]}),e.jsx(B,{children:"Add your company description in one or more languages"})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsx(h,{control:c.control,name:"descriptionGeo",render:({field:s})=>e.jsxs(x,{children:[e.jsxs(g,{className:"flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ‡¬ðŸ‡ª"})," Georgian"]}),e.jsx(j,{children:e.jsx(J,{placeholder:"áƒ™áƒáƒ›áƒžáƒáƒœáƒ˜áƒ˜áƒ¡ áƒáƒ¦áƒ¬áƒ”áƒ áƒ...",className:"min-h-[80px] resize-none",...s})}),e.jsxs(V,{className:"text-xs",children:[s.value?.length||0," / 5000"]}),e.jsx(f,{})]})}),e.jsx(h,{control:c.control,name:"descriptionEng",render:({field:s})=>e.jsxs(x,{children:[e.jsxs(g,{className:"flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ‡¬ðŸ‡§"})," English"]}),e.jsx(j,{children:e.jsx(J,{placeholder:"Company description...",className:"min-h-[80px] resize-none",...s})}),e.jsxs(V,{className:"text-xs",children:[s.value?.length||0," / 5000"]}),e.jsx(f,{})]})}),e.jsx(h,{control:c.control,name:"descriptionRus",render:({field:s})=>e.jsxs(x,{children:[e.jsxs(g,{className:"flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ‡·ðŸ‡º"})," Russian"]}),e.jsx(j,{children:e.jsx(J,{placeholder:"ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ ÐºÐ¾Ð¼Ð¿Ð°Ð½Ð¸Ð¸...",className:"min-h-[80px] resize-none",...s})}),e.jsxs(V,{className:"text-xs",children:[s.value?.length||0," / 5000"]}),e.jsx(f,{})]})})]})]})]}),e.jsxs(F,{className:"shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs(A,{children:[e.jsxs(z,{className:"flex items-center gap-2",children:[e.jsx(l,{icon:"mdi:image",className:"h-5 w-5"}),"Company Logo"]}),e.jsxs(B,{children:["Upload your company logo (max ",G/(1024*1024)," MB, JPEG/PNG/WEBP)"]})]}),e.jsxs(E,{className:"space-y-4",children:[se?e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:se,alt:"Logo preview",className:"w-24 h-24 object-contain rounded-lg border bg-muted"}),e.jsx(_,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6",onClick:Se,children:e.jsx(l,{icon:"mdi:close",className:"h-4 w-4"})})]}),e.jsxs("div",{className:"flex-1 text-sm",children:[e.jsx("p",{className:"font-medium truncate",children:M?.name}),e.jsx("p",{className:"text-muted-foreground",children:M&&Ue(M.size)})]})]}):e.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center cursor-pointer hover:border-primary/50 transition-colors",onClick:()=>o.current?.click(),children:[e.jsx(l,{icon:"mdi:cloud-upload",className:"h-10 w-10 mx-auto text-muted-foreground mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Click to upload or drag and drop"}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["JPEG, PNG, or WEBP up to ",G/(1024*1024)," MB"]})]}),e.jsx("input",{ref:o,type:"file",accept:"image/jpeg,image/png,image/webp",className:"hidden",onChange:ke}),ae&&e.jsx("p",{className:"text-sm text-destructive",children:ae})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(F,{className:"shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs(A,{children:[e.jsxs(z,{className:"flex items-center gap-2",children:[e.jsx(l,{icon:"mdi:web",className:"h-5 w-5"}),"Website & Social Links"]}),e.jsx(B,{children:"Add your company website and social media profiles (Facebook, Instagram)"})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(l,{icon:"mdi:web",className:"h-4 w-4"}),"Company Website"]}),e.jsx(y,{placeholder:"https://yourcompany.com",value:T,onChange:s=>{ye(s.target.value),ve(null)}}),ee&&e.jsx("p",{className:"text-sm text-destructive",children:ee})]}),e.jsx(me,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(l,{icon:"mdi:share-variant",className:"h-4 w-4"}),"Social Media (",w.length,"/2)"]}),w.length<2&&e.jsxs(_,{type:"button",variant:"outline",size:"sm",onClick:be,children:[e.jsx(l,{icon:"mdi:plus",className:"h-4 w-4 mr-1"}),"Add Social"]})]}),w.length===0&&e.jsx("p",{className:"text-sm text-muted-foreground",children:'No social links added. Click "Add Social" to add Facebook or Instagram.'}),w.map((s,t)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("select",{value:s.platform,onChange:d=>oe(t,"platform",d.target.value),className:"h-9 w-[130px] rounded-md border border-input bg-transparent px-3 text-sm focus:outline-none focus:ring-2 focus:ring-ring",children:[e.jsx("option",{value:"facebook",disabled:ie.includes("facebook")&&s.platform!=="facebook",children:"Facebook"}),e.jsx("option",{value:"instagram",disabled:ie.includes("instagram")&&s.platform!=="instagram",children:"Instagram"})]}),e.jsx(y,{placeholder:s.platform==="facebook"?"https://facebook.com/yourpage":"https://instagram.com/yourpage",value:s.url,onChange:d=>oe(t,"url",d.target.value),className:"flex-1"}),e.jsx(_,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 flex-shrink-0",onClick:()=>Ne(t),children:e.jsx(l,{icon:"mdi:close",className:"h-4 w-4"})})]},t))]})]})]}),e.jsxs(F,{className:"shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs(A,{children:[e.jsxs(z,{className:"flex items-center gap-2",children:[e.jsx(l,{icon:"mdi:map-marker",className:"h-5 w-5"}),"Location"]}),e.jsx(B,{children:"Where is your company based?"})]}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx(h,{control:c.control,name:"country",render:({field:s})=>e.jsxs(x,{children:[e.jsx(g,{children:"Country"}),e.jsx(j,{children:e.jsx(y,{placeholder:"USA",...s})}),e.jsx(f,{})]})}),e.jsx(h,{control:c.control,name:"state",render:({field:s})=>e.jsxs(x,{children:[e.jsx(g,{children:"State / Province"}),e.jsx(j,{children:e.jsx(y,{placeholder:"California",...s})}),e.jsx(f,{})]})}),e.jsx(h,{control:c.control,name:"city",render:({field:s})=>e.jsxs(x,{children:[e.jsx(g,{children:"City"}),e.jsx(j,{children:e.jsx(y,{placeholder:"Los Angeles",...s})}),e.jsx(f,{})]})})]})})]})]}),e.jsxs(F,{className:"shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs(A,{children:[e.jsxs(z,{className:"flex items-center gap-2",children:[e.jsx(l,{icon:"mdi:cog",className:"h-5 w-5"}),"Services"]}),e.jsx(B,{children:"What services does your company offer? (Max 20)"})]}),e.jsxs(E,{className:"space-y-4",children:[je?e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(l,{icon:"mdi:loading",className:"h-4 w-4 animate-spin"}),e.jsx("span",{className:"text-sm",children:"Loading services..."})]}):e.jsx("div",{className:"flex flex-wrap gap-2",children:xe.map(s=>{const t=N.includes(s.name);return e.jsxs(de,{variant:t?"default":"outline",className:"cursor-pointer transition-colors",onClick:()=>{t?ne(s.name):we(s.name)},children:[t&&e.jsx(l,{icon:"mdi:check",className:"h-3 w-3 mr-1"}),s.name]},s.id)})}),N.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(me,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(q,{children:["Selected Services (",N.length,"/20)"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:N.map(s=>e.jsxs(de,{variant:"secondary",className:"gap-1",children:[s,e.jsx("button",{type:"button",onClick:()=>ne(s),className:"ml-1 hover:text-destructive",children:e.jsx(l,{icon:"mdi:close",className:"h-3 w-3"})})]},s))})]})]})]})]}),e.jsxs(F,{className:"hidden shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs(A,{children:[e.jsxs(z,{className:"flex items-center gap-2",children:[e.jsx(l,{icon:"mdi:currency-usd",className:"h-5 w-5"}),"Pricing"]}),e.jsx(B,{children:"Set your base pricing structure (all values in USD)"})]}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsx(h,{control:c.control,name:"basePrice",render:({field:s})=>e.jsxs(x,{children:[e.jsx(g,{children:"Base Price"}),e.jsx(j,{children:e.jsx(y,{type:"number",min:0,step:"0.01",placeholder:"0",...s})}),e.jsx(f,{})]})}),e.jsx(h,{control:c.control,name:"pricePerMile",render:({field:s})=>e.jsxs(x,{children:[e.jsx(g,{children:"Price per Mile"}),e.jsx(j,{children:e.jsx(y,{type:"number",min:0,step:"0.01",placeholder:"0",...s})}),e.jsx(f,{})]})}),e.jsx(h,{control:c.control,name:"customsFee",render:({field:s})=>e.jsxs(x,{children:[e.jsx(g,{children:"Customs Fee"}),e.jsx(j,{children:e.jsx(y,{type:"number",min:0,step:"0.01",placeholder:"0",...s})}),e.jsx(f,{})]})}),e.jsx(h,{control:c.control,name:"serviceFee",render:({field:s})=>e.jsxs(x,{children:[e.jsx(g,{children:"Service Fee"}),e.jsx(j,{children:e.jsx(y,{type:"number",min:0,step:"0.01",placeholder:"0",...s})}),e.jsx(f,{})]})}),e.jsx(h,{control:c.control,name:"brokerFee",render:({field:s})=>e.jsxs(x,{children:[e.jsx(g,{children:"Broker Fee"}),e.jsx(j,{children:e.jsx(y,{type:"number",min:0,step:"0.01",placeholder:"0",...s})}),e.jsx(f,{})]})})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs(_,{type:"button",variant:"outline",className:"flex-1",onClick:()=>a(-1),disabled:p,children:[e.jsx(l,{icon:"mdi:arrow-left",className:"h-4 w-4 mr-2"}),"Back"]}),e.jsx(_,{type:"submit",className:"flex-1",disabled:p,children:p?e.jsxs(e.Fragment,{children:[e.jsx(l,{icon:"mdi:loading",className:"h-4 w-4 mr-2 animate-spin"}),pe[u]||"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(l,{icon:"mdi:check",className:"h-4 w-4 mr-2"}),"Create Company"]})})]})]})})]})})};export{ts as default};
