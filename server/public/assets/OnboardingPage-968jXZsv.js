import{r as c,j as e,Y as _e,_ as le,aA as fn,a2 as Y,a1 as Q,aB as Me,aC as Be,aD as hn,aE as xn,c as J,ai as L,aF as Oe,aG as gn,aH as jn,l as bn,a as Se,b as ce,W as R,K as fe,M as he,N as xe,O as ge,P as Z,I as F,B as H,X as B,x as Ge,aw as Ve,T as vn,S as ue}from"./index-YfxkLA5i.js";import{T as yn,a as _n,b as me,c as pe}from"./tabs-BxTmRrfA.js";import{u as Sn,o as oe,_ as je,h as ie,s as A,a as we,F as Ce,d as v,b as y,c as _,e as S,g as w,l as wn,f as Cn,i as Nn,n as Pn}from"./form-CJQiKwft.js";import{C as ze}from"./checkbox-DrYocmLg.js";import{C as Ne,b as Pe,c as Ee,d as Re,a as Te,e as En}from"./card-DSnoFuTI.js";import{c as Fe}from"./confetti.module-C_1cc0iU.js";import{n as G}from"./coerce-BjwZhUZs.js";import{a as ee,b as ne,c as re}from"./tooltip-DV0DsUlW.js";import{B as Rn}from"./badge-CK_F6OFq.js";import{T as Tn}from"./textarea-DdJg2qaA.js";import{f as In}from"./services-BOBlrP5K.js";import{b as kn,e as Dn,g as An,h as Vn,i as Fn}from"./companiesApi-BlVMKJU_.js";import"./label-B6Q9QmWt.js";function $n(n,r=[]){let t=[];function s(l,a){const i=c.createContext(a),d=t.length;t=[...t,a];const f=u=>{const{scope:m,children:g,...b}=u,N=m?.[n]?.[d]||i,P=c.useMemo(()=>b,Object.values(b));return e.jsx(N.Provider,{value:P,children:g})};f.displayName=l+"Provider";function x(u,m){const g=m?.[n]?.[d]||i,b=c.useContext(g);if(b)return b;if(a!==void 0)return a;throw new Error(`\`${u}\` must be used within \`${l}\``)}return[f,x]}const o=()=>{const l=t.map(a=>c.createContext(a));return function(i){const d=i?.[n]||l;return c.useMemo(()=>({[`__scope${n}`]:{...i,[n]:d}}),[i,d])}};return o.scopeName=n,[s,Ln(o,...r)]}function Ln(...n){const r=n[0];if(n.length===1)return r;const t=()=>{const s=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const a=s.reduce((i,{useScope:d,scopeName:f})=>{const u=d(l)[`__scope${f}`];return{...i,...u}},{});return c.useMemo(()=>({[`__scope${r.scopeName}`]:a}),[a])}};return t.scopeName=r.scopeName,t}function Mn(n){const r=Bn(n),t=c.forwardRef((s,o)=>{const{children:l,...a}=s,i=c.Children.toArray(l),d=i.find(Gn);if(d){const f=d.props.children,x=i.map(u=>u===d?c.Children.count(f)>1?c.Children.only(null):c.isValidElement(f)?f.props.children:null:u);return e.jsx(r,{...a,ref:o,children:c.isValidElement(f)?c.cloneElement(f,void 0,x):null})}return e.jsx(r,{...a,ref:o,children:l})});return t.displayName=`${n}.Slot`,t}function Bn(n){const r=c.forwardRef((t,s)=>{const{children:o,...l}=t;if(c.isValidElement(o)){const a=Hn(o),i=zn(l,o.props);return o.type!==c.Fragment&&(i.ref=s?_e(s,a):a),c.cloneElement(o,i)}return c.Children.count(o)>1?c.Children.only(null):null});return r.displayName=`${n}.SlotClone`,r}var On=Symbol("radix.slottable");function Gn(n){return c.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===On}function zn(n,r){const t={...r};for(const s in r){const o=n[s],l=r[s];/^on[A-Z]/.test(s)?o&&l?t[s]=(...i)=>{const d=l(...i);return o(...i),d}:o&&(t[s]=o):s==="style"?t[s]={...o,...l}:s==="className"&&(t[s]=[o,l].filter(Boolean).join(" "))}return{...n,...t}}function Hn(n){let r=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?n.ref:(r=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Kn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],te=Kn.reduce((n,r)=>{const t=Mn(`Primitive.${r}`),s=c.forwardRef((o,l)=>{const{asChild:a,...i}=o,d=a?t:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(d,{...i,ref:l})});return s.displayName=`Primitive.${r}`,{...n,[r]:s}},{}),He=["PageUp","PageDown"],Ke=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],We={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},q="Slider",[be,Wn,Un]=fn(q),[Ue]=$n(q,[Un]),[Yn,de]=Ue(q),Ye=c.forwardRef((n,r)=>{const{name:t,min:s=0,max:o=100,step:l=1,orientation:a="horizontal",disabled:i=!1,minStepsBetweenThumbs:d=0,defaultValue:f=[s],value:x,onValueChange:u=()=>{},onValueCommit:m=()=>{},inverted:g=!1,form:b,...N}=n,P=c.useRef(new Set),T=c.useRef(0),j=a==="horizontal"?Xn:Zn,[I=[],W]=le({prop:x,defaultProp:f,onChange:E=>{[...P.current][T.current]?.focus(),u(E)}}),p=c.useRef(I);function h(E){const C=nr(I,E);V(E,C)}function $(E){V(E,T.current)}function M(){const E=p.current[T.current];I[T.current]!==E&&m(I)}function V(E,C,{commit:k}={commit:!1}){const D=or(l),se=ir(Math.round((E-s)/l)*l+s,D),O=Be(se,[s,o]);W((X=[])=>{const U=qn(X,O,C);if(sr(U,d*l)){T.current=U.indexOf(O);const Ae=String(U)!==String(X);return Ae&&k&&m(U),Ae?U:X}else return X})}return e.jsx(Yn,{scope:n.__scopeSlider,name:t,disabled:i,min:s,max:o,valueIndexToChangeRef:T,thumbs:P.current,values:I,orientation:a,form:b,children:e.jsx(be.Provider,{scope:n.__scopeSlider,children:e.jsx(be.Slot,{scope:n.__scopeSlider,children:e.jsx(j,{"aria-disabled":i,"data-disabled":i?"":void 0,...N,ref:r,onPointerDown:Y(N.onPointerDown,()=>{i||(p.current=I)}),min:s,max:o,inverted:g,onSlideStart:i?void 0:h,onSlideMove:i?void 0:$,onSlideEnd:i?void 0:M,onHomeKeyDown:()=>!i&&V(s,0,{commit:!0}),onEndKeyDown:()=>!i&&V(o,I.length-1,{commit:!0}),onStepKeyDown:({event:E,direction:C})=>{if(!i){const se=He.includes(E.key)||E.shiftKey&&Ke.includes(E.key)?10:1,O=T.current,X=I[O],U=l*se*C;V(X+U,O,{commit:!0})}}})})})})});Ye.displayName=q;var[Xe,Ze]=Ue(q,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Xn=c.forwardRef((n,r)=>{const{min:t,max:s,dir:o,inverted:l,onSlideStart:a,onSlideMove:i,onSlideEnd:d,onStepKeyDown:f,...x}=n,[u,m]=c.useState(null),g=Q(r,j=>m(j)),b=c.useRef(void 0),N=Me(o),P=N==="ltr",T=P&&!l||!P&&l;function z(j){const I=b.current||u.getBoundingClientRect(),W=[0,I.width],h=Ie(W,T?[t,s]:[s,t]);return b.current=I,h(j-I.left)}return e.jsx(Xe,{scope:n.__scopeSlider,startEdge:T?"left":"right",endEdge:T?"right":"left",direction:T?1:-1,size:"width",children:e.jsx(Je,{dir:N,"data-orientation":"horizontal",...x,ref:g,style:{...x.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:j=>{const I=z(j.clientX);a?.(I)},onSlideMove:j=>{const I=z(j.clientX);i?.(I)},onSlideEnd:()=>{b.current=void 0,d?.()},onStepKeyDown:j=>{const W=We[T?"from-left":"from-right"].includes(j.key);f?.({event:j,direction:W?-1:1})}})})}),Zn=c.forwardRef((n,r)=>{const{min:t,max:s,inverted:o,onSlideStart:l,onSlideMove:a,onSlideEnd:i,onStepKeyDown:d,...f}=n,x=c.useRef(null),u=Q(r,x),m=c.useRef(void 0),g=!o;function b(N){const P=m.current||x.current.getBoundingClientRect(),T=[0,P.height],j=Ie(T,g?[s,t]:[t,s]);return m.current=P,j(N-P.top)}return e.jsx(Xe,{scope:n.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:e.jsx(Je,{"data-orientation":"vertical",...f,ref:u,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:N=>{const P=b(N.clientY);l?.(P)},onSlideMove:N=>{const P=b(N.clientY);a?.(P)},onSlideEnd:()=>{m.current=void 0,i?.()},onStepKeyDown:N=>{const T=We[g?"from-bottom":"from-top"].includes(N.key);d?.({event:N,direction:T?-1:1})}})})}),Je=c.forwardRef((n,r)=>{const{__scopeSlider:t,onSlideStart:s,onSlideMove:o,onSlideEnd:l,onHomeKeyDown:a,onEndKeyDown:i,onStepKeyDown:d,...f}=n,x=de(q,t);return e.jsx(te.span,{...f,ref:r,onKeyDown:Y(n.onKeyDown,u=>{u.key==="Home"?(a(u),u.preventDefault()):u.key==="End"?(i(u),u.preventDefault()):He.concat(Ke).includes(u.key)&&(d(u),u.preventDefault())}),onPointerDown:Y(n.onPointerDown,u=>{const m=u.target;m.setPointerCapture(u.pointerId),u.preventDefault(),x.thumbs.has(m)?m.focus():s(u)}),onPointerMove:Y(n.onPointerMove,u=>{u.target.hasPointerCapture(u.pointerId)&&o(u)}),onPointerUp:Y(n.onPointerUp,u=>{const m=u.target;m.hasPointerCapture(u.pointerId)&&(m.releasePointerCapture(u.pointerId),l(u))})})}),Qe="SliderTrack",qe=c.forwardRef((n,r)=>{const{__scopeSlider:t,...s}=n,o=de(Qe,t);return e.jsx(te.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...s,ref:r})});qe.displayName=Qe;var ve="SliderRange",en=c.forwardRef((n,r)=>{const{__scopeSlider:t,...s}=n,o=de(ve,t),l=Ze(ve,t),a=c.useRef(null),i=Q(r,a),d=o.values.length,f=o.values.map(m=>tn(m,o.min,o.max)),x=d>1?Math.min(...f):0,u=100-Math.max(...f);return e.jsx(te.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...s,ref:i,style:{...n.style,[l.startEdge]:x+"%",[l.endEdge]:u+"%"}})});en.displayName=ve;var ye="SliderThumb",nn=c.forwardRef((n,r)=>{const t=Wn(n.__scopeSlider),[s,o]=c.useState(null),l=Q(r,i=>o(i)),a=c.useMemo(()=>s?t().findIndex(i=>i.ref.current===s):-1,[t,s]);return e.jsx(Jn,{...n,ref:l,index:a})}),Jn=c.forwardRef((n,r)=>{const{__scopeSlider:t,index:s,name:o,...l}=n,a=de(ye,t),i=Ze(ye,t),[d,f]=c.useState(null),x=Q(r,z=>f(z)),u=d?a.form||!!d.closest("form"):!0,m=hn(d),g=a.values[s],b=g===void 0?0:tn(g,a.min,a.max),N=er(s,a.values.length),P=m?.[i.size],T=P?rr(P,b,i.direction):0;return c.useEffect(()=>{if(d)return a.thumbs.add(d),()=>{a.thumbs.delete(d)}},[d,a.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[i.startEdge]:`calc(${b}% + ${T}px)`},children:[e.jsx(be.ItemSlot,{scope:n.__scopeSlider,children:e.jsx(te.span,{role:"slider","aria-label":n["aria-label"]||N,"aria-valuemin":a.min,"aria-valuenow":g,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...l,ref:x,style:g===void 0?{display:"none"}:n.style,onFocus:Y(n.onFocus,()=>{a.valueIndexToChangeRef.current=s})})}),u&&e.jsx(rn,{name:o??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:g},s)]})});nn.displayName=ye;var Qn="RadioBubbleInput",rn=c.forwardRef(({__scopeSlider:n,value:r,...t},s)=>{const o=c.useRef(null),l=Q(o,s),a=xn(r);return c.useEffect(()=>{const i=o.current;if(!i)return;const d=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(d,"value").set;if(a!==r&&x){const u=new Event("input",{bubbles:!0});x.call(i,r),i.dispatchEvent(u)}},[a,r]),e.jsx(te.input,{style:{display:"none"},...t,ref:l,defaultValue:r})});rn.displayName=Qn;function qn(n=[],r,t){const s=[...n];return s[t]=r,s.sort((o,l)=>o-l)}function tn(n,r,t){const l=100/(t-r)*(n-r);return Be(l,[0,100])}function er(n,r){return r>2?`Value ${n+1} of ${r}`:r===2?["Minimum","Maximum"][n]:void 0}function nr(n,r){if(n.length===1)return 0;const t=n.map(o=>Math.abs(o-r)),s=Math.min(...t);return t.indexOf(s)}function rr(n,r,t){const s=n/2,l=Ie([0,50],[0,s]);return(s-l(r)*t)*t}function tr(n){return n.slice(0,-1).map((r,t)=>n[t+1]-r)}function sr(n,r){if(r>0){const t=tr(n);return Math.min(...t)>=r}return!0}function Ie(n,r){return t=>{if(n[0]===n[1]||r[0]===r[1])return r[0];const s=(r[1]-r[0])/(n[1]-n[0]);return r[0]+s*(t-n[0])}}function or(n){return(String(n).split(".")[1]||"").length}function ir(n,r){const t=Math.pow(10,r);return Math.round(n*t)/t}var ar=Ye,lr=qe,cr=en,dr=nn;function ur({className:n,defaultValue:r,value:t,min:s=0,max:o=100,...l}){const a=c.useMemo(()=>Array.isArray(t)?t:Array.isArray(r)?r:[s,o],[t,r,s,o]);return e.jsxs(ar,{"data-slot":"slider",defaultValue:r,value:t,min:s,max:o,className:J("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",n),...l,children:[e.jsx(lr,{"data-slot":"slider-track",className:J("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:e.jsx(cr,{"data-slot":"slider-range",className:J("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:a.length},(i,d)=>e.jsx(dr,{"data-slot":"slider-thumb",className:"border-primary ring-ring/50 block size-4 shrink-0 rounded-full border bg-white shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},d))]})}function mr(n,r=[]){let t=[];function s(l,a){const i=c.createContext(a),d=t.length;t=[...t,a];const f=u=>{const{scope:m,children:g,...b}=u,N=m?.[n]?.[d]||i,P=c.useMemo(()=>b,Object.values(b));return e.jsx(N.Provider,{value:P,children:g})};f.displayName=l+"Provider";function x(u,m){const g=m?.[n]?.[d]||i,b=c.useContext(g);if(b)return b;if(a!==void 0)return a;throw new Error(`\`${u}\` must be used within \`${l}\``)}return[f,x]}const o=()=>{const l=t.map(a=>c.createContext(a));return function(i){const d=i?.[n]||l;return c.useMemo(()=>({[`__scope${n}`]:{...i,[n]:d}}),[i,d])}};return o.scopeName=n,[s,pr(o,...r)]}function pr(...n){const r=n[0];if(n.length===1)return r;const t=()=>{const s=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const a=s.reduce((i,{useScope:d,scopeName:f})=>{const u=d(l)[`__scope${f}`];return{...i,...u}},{});return c.useMemo(()=>({[`__scope${r.scopeName}`]:a}),[a])}};return t.scopeName=r.scopeName,t}function fr(n){const r=hr(n),t=c.forwardRef((s,o)=>{const{children:l,...a}=s,i=c.Children.toArray(l),d=i.find(gr);if(d){const f=d.props.children,x=i.map(u=>u===d?c.Children.count(f)>1?c.Children.only(null):c.isValidElement(f)?f.props.children:null:u);return e.jsx(r,{...a,ref:o,children:c.isValidElement(f)?c.cloneElement(f,void 0,x):null})}return e.jsx(r,{...a,ref:o,children:l})});return t.displayName=`${n}.Slot`,t}function hr(n){const r=c.forwardRef((t,s)=>{const{children:o,...l}=t;if(c.isValidElement(o)){const a=br(o),i=jr(l,o.props);return o.type!==c.Fragment&&(i.ref=s?_e(s,a):a),c.cloneElement(o,i)}return c.Children.count(o)>1?c.Children.only(null):null});return r.displayName=`${n}.SlotClone`,r}var xr=Symbol("radix.slottable");function gr(n){return c.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===xr}function jr(n,r){const t={...r};for(const s in r){const o=n[s],l=r[s];/^on[A-Z]/.test(s)?o&&l?t[s]=(...i)=>{const d=l(...i);return o(...i),d}:o&&(t[s]=o):s==="style"?t[s]={...o,...l}:s==="className"&&(t[s]=[o,l].filter(Boolean).join(" "))}return{...n,...t}}function br(n){let r=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?n.ref:(r=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var vr=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$e=vr.reduce((n,r)=>{const t=fr(`Primitive.${r}`),s=c.forwardRef((o,l)=>{const{asChild:a,...i}=o,d=a?t:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(d,{...i,ref:l})});return s.displayName=`Primitive.${r}`,{...n,[r]:s}},{});function yr(n){const r=_r(n),t=c.forwardRef((s,o)=>{const{children:l,...a}=s,i=c.Children.toArray(l),d=i.find(wr);if(d){const f=d.props.children,x=i.map(u=>u===d?c.Children.count(f)>1?c.Children.only(null):c.isValidElement(f)?f.props.children:null:u);return e.jsx(r,{...a,ref:o,children:c.isValidElement(f)?c.cloneElement(f,void 0,x):null})}return e.jsx(r,{...a,ref:o,children:l})});return t.displayName=`${n}.Slot`,t}function _r(n){const r=c.forwardRef((t,s)=>{const{children:o,...l}=t;if(c.isValidElement(o)){const a=Nr(o),i=Cr(l,o.props);return o.type!==c.Fragment&&(i.ref=s?_e(s,a):a),c.cloneElement(o,i)}return c.Children.count(o)>1?c.Children.only(null):null});return r.displayName=`${n}.SlotClone`,r}var Sr=Symbol("radix.slottable");function wr(n){return c.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===Sr}function Cr(n,r){const t={...r};for(const s in r){const o=n[s],l=r[s];/^on[A-Z]/.test(s)?o&&l?t[s]=(...i)=>{const d=l(...i);return o(...i),d}:o&&(t[s]=o):s==="style"?t[s]={...o,...l}:s==="className"&&(t[s]=[o,l].filter(Boolean).join(" "))}return{...n,...t}}function Nr(n){let r=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?n.ref:(r=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Pr=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Er=Pr.reduce((n,r)=>{const t=yr(`Primitive.${r}`),s=c.forwardRef((o,l)=>{const{asChild:a,...i}=o,d=a?t:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(d,{...i,ref:l})});return s.displayName=`Primitive.${r}`,{...n,[r]:s}},{}),sn="Toggle",on=c.forwardRef((n,r)=>{const{pressed:t,defaultPressed:s,onPressedChange:o,...l}=n,[a,i]=le({prop:t,onChange:o,defaultProp:s??!1,caller:sn});return e.jsx(Er.button,{type:"button","aria-pressed":a,"data-state":a?"on":"off","data-disabled":n.disabled?"":void 0,...l,ref:r,onClick:Y(n.onClick,()=>{n.disabled||i(!a)})})});on.displayName=sn;var K="ToggleGroup",[an]=mr(K,[Oe]),ln=Oe(),ke=L.forwardRef((n,r)=>{const{type:t,...s}=n;if(t==="single"){const o=s;return e.jsx(Rr,{...o,ref:r})}if(t==="multiple"){const o=s;return e.jsx(Tr,{...o,ref:r})}throw new Error(`Missing prop \`type\` expected on \`${K}\``)});ke.displayName=K;var[cn,dn]=an(K),Rr=L.forwardRef((n,r)=>{const{value:t,defaultValue:s,onValueChange:o=()=>{},...l}=n,[a,i]=le({prop:t,defaultProp:s??"",onChange:o,caller:K});return e.jsx(cn,{scope:n.__scopeToggleGroup,type:"single",value:L.useMemo(()=>a?[a]:[],[a]),onItemActivate:i,onItemDeactivate:L.useCallback(()=>i(""),[i]),children:e.jsx(un,{...l,ref:r})})}),Tr=L.forwardRef((n,r)=>{const{value:t,defaultValue:s,onValueChange:o=()=>{},...l}=n,[a,i]=le({prop:t,defaultProp:s??[],onChange:o,caller:K}),d=L.useCallback(x=>i((u=[])=>[...u,x]),[i]),f=L.useCallback(x=>i((u=[])=>u.filter(m=>m!==x)),[i]);return e.jsx(cn,{scope:n.__scopeToggleGroup,type:"multiple",value:a,onItemActivate:d,onItemDeactivate:f,children:e.jsx(un,{...l,ref:r})})});ke.displayName=K;var[Ir,kr]=an(K),un=L.forwardRef((n,r)=>{const{__scopeToggleGroup:t,disabled:s=!1,rovingFocus:o=!0,orientation:l,dir:a,loop:i=!0,...d}=n,f=ln(t),x=Me(a),u={role:"group",dir:x,...d};return e.jsx(Ir,{scope:t,rovingFocus:o,disabled:s,children:o?e.jsx(jn,{asChild:!0,...f,orientation:l,dir:x,loop:i,children:e.jsx($e.div,{...u,ref:r})}):e.jsx($e.div,{...u,ref:r})})}),ae="ToggleGroupItem",mn=L.forwardRef((n,r)=>{const t=dn(ae,n.__scopeToggleGroup),s=kr(ae,n.__scopeToggleGroup),o=ln(n.__scopeToggleGroup),l=t.value.includes(n.value),a=s.disabled||n.disabled,i={...n,pressed:l,disabled:a},d=L.useRef(null);return s.rovingFocus?e.jsx(gn,{asChild:!0,...o,focusable:!a,active:l,ref:d,children:e.jsx(Le,{...i,ref:r})}):e.jsx(Le,{...i,ref:r})});mn.displayName=ae;var Le=L.forwardRef((n,r)=>{const{__scopeToggleGroup:t,value:s,...o}=n,l=dn(ae,t),a={role:"radio","aria-checked":n.pressed,"aria-pressed":void 0},i=l.type==="single"?a:void 0;return e.jsx(on,{...i,...o,ref:r,onPressedChange:d=>{d?l.onItemActivate(s):l.onItemDeactivate(s)}})}),Dr=ke,Ar=mn;const Vr=bn("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}}),pn=c.createContext({size:"default",variant:"default",spacing:0});function Fr({className:n,variant:r,size:t,spacing:s=0,children:o,...l}){return e.jsx(Dr,{"data-slot":"toggle-group","data-variant":r,"data-size":t,"data-spacing":s,style:{"--gap":s},className:J("group/toggle-group flex w-fit items-center gap-[--spacing(var(--gap))] rounded-md data-[spacing=default]:data-[variant=outline]:shadow-xs",n),...l,children:e.jsx(pn.Provider,{value:{variant:r,size:t,spacing:s},children:o})})}function $r({className:n,children:r,variant:t,size:s,...o}){const l=c.useContext(pn);return e.jsx(Ar,{"data-slot":"toggle-group-item","data-variant":l.variant||t,"data-size":l.size||s,"data-spacing":l.spacing,className:J(Vr({variant:l.variant||t,size:l.size||s}),"w-auto min-w-0 shrink-0 px-3 focus:z-10 focus-visible:z-10","data-[spacing=0]:rounded-none data-[spacing=0]:shadow-none data-[spacing=0]:first:rounded-l-md data-[spacing=0]:last:rounded-r-md data-[spacing=0]:data-[variant=outline]:border-l-0 data-[spacing=0]:data-[variant=outline]:first:border-l",n),...o,children:r})}const Lr=["Sedan","SUV","Coupe","Truck","Van","Hatchback","Convertible","Wagon"],Mr=["Gasoline","Diesel","Hybrid","Electric"],Br=[{value:"commute",label:"Daily Commute",icon:"mdi:car-commute"},{value:"family",label:"Family",icon:"mdi:account-group"},{value:"resale",label:"Resale / Business",icon:"mdi:cash"},{value:"fun",label:"Fun / Weekend",icon:"mdi:car-sports"},{value:"other",label:"Other",icon:"mdi:dots-horizontal"}],Or=["0-10","10-50","50+"];function De(n,r){const t=typeof window<"u"?sessionStorage.getItem(`onboarding_${n}`):null,s=t?JSON.parse(t):null,o=Sn({...r,defaultValues:{...r?.defaultValues,...s}});return c.useEffect(()=>{const a=o.watch(i=>{sessionStorage.setItem(`onboarding_${n}`,JSON.stringify(i))});return()=>a.unsubscribe()},[o,n]),{form:o,triggerConfetti:()=>{const i=Date.now()+3e3,d={startVelocity:30,spread:360,ticks:60,zIndex:0},f=(u,m)=>Math.random()*(m-u)+u,x=setInterval(function(){const u=i-Date.now();if(u<=0)return clearInterval(x);const m=50*(u/3e3);Fe({...d,particleCount:m,origin:{x:f(.1,.3),y:Math.random()-.2}}),Fe({...d,particleCount:m,origin:{x:f(.7,.9),y:Math.random()-.2}})},250)}}}function Gr(){const{t:n}=Se(),[r,t]=c.useState(!1),[s,o]=c.useState(1),l=ce(),a=oe({budget_min:G().optional(),budget_max:G().optional(),body_types:ie(A()).optional(),fuel_types:ie(A()).optional(),usage_goal:je(["commute","family","resale","fun","other"]).optional(),purchase_timeframe:je(["immediate","1-3_months","3-6_months","planning"]).optional()}),{form:i,triggerConfetti:d}=De("user",{resolver:we(a),defaultValues:{budget_min:5e3,budget_max:25e3,body_types:[],fuel_types:[]}});async function f(m){t(!0);try{B.success(n("onboarding.user.success")),d(),setTimeout(()=>{l("/")},1e3)}catch{B.error(n("onboarding.user.failure"))}finally{t(!1)}}const x=()=>o(2),u=()=>o(1);return e.jsxs(Ne,{children:[e.jsxs(Pe,{children:[e.jsx(Ee,{children:n("onboarding.user.title")}),e.jsx(Re,{children:n("onboarding.user.step_indicator",{current:s,total:2,label:n(s===1?"onboarding.user.steps.budget_type":"onboarding.user.steps.usage_goals")})}),e.jsx("div",{className:"w-full h-2 bg-secondary rounded-full mt-2",children:e.jsx("div",{className:"h-full bg-primary rounded-full transition-all duration-300",style:{width:`${s/2*100}%`}})})]}),e.jsx(Te,{children:e.jsx(Ce,{...i,children:e.jsxs("form",{onSubmit:i.handleSubmit(f),className:"space-y-6",children:[s===1&&e.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 fade-in duration-300",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(v,{children:n("onboarding.user.budget_range")}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(y,{control:i.control,name:"budget_min",render:({field:m})=>e.jsxs(_,{className:"w-24",children:[e.jsx(S,{children:e.jsx(R,{type:"number",...m})}),e.jsx(w,{})]})}),e.jsx(ur,{min:0,max:1e5,step:1e3,value:[i.watch("budget_min")??0,i.watch("budget_max")??0],onValueChange:m=>{i.setValue("budget_min",m[0]),i.setValue("budget_max",m[1])},className:"flex-1"}),e.jsx(y,{control:i.control,name:"budget_max",render:({field:m})=>e.jsxs(_,{className:"w-24",children:[e.jsx(S,{children:e.jsx(R,{type:"number",...m})}),e.jsx(w,{})]})})]}),i.formState.errors.budget_max?.message&&e.jsx("p",{className:"text-sm font-medium text-destructive",children:i.formState.errors.budget_max.message})]}),e.jsx(y,{control:i.control,name:"body_types",render:()=>e.jsxs(_,{children:[e.jsx("div",{className:"mb-4",children:e.jsx(v,{className:"text-base",children:n("onboarding.user.body_types")})}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:Lr.map(m=>e.jsx(y,{control:i.control,name:"body_types",render:({field:g})=>e.jsxs(_,{className:J("flex flex-row items-start space-x-3 space-y-0 rounded-md border p-2 cursor-pointer transition-colors",g.value?.includes(m)?"bg-primary/10 border-primary":"hover:bg-accent"),children:[e.jsx(S,{children:e.jsx(ze,{checked:g.value?.includes(m),onCheckedChange:b=>b?g.onChange([...g.value||[],m]):g.onChange(g.value?.filter(N=>N!==m))})}),e.jsx(v,{className:"font-normal cursor-pointer w-full",children:m})]},m)},m))}),e.jsx(w,{})]})}),e.jsx(y,{control:i.control,name:"fuel_types",render:({field:m})=>e.jsxs(_,{children:[e.jsx(v,{children:n("onboarding.user.engine_pref")}),e.jsx(S,{children:e.jsx(Fr,{type:"multiple",variant:"outline",value:m.value,onValueChange:m.onChange,children:Mr.map(g=>e.jsx($r,{value:g,className:"flex-1",children:g},g))})}),e.jsx(w,{})]})})]}),s===2&&e.jsx("div",{className:"space-y-6 animate-in slide-in-from-right-4 fade-in duration-300",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(y,{control:i.control,name:"usage_goal",render:({field:m})=>e.jsxs(_,{children:[e.jsx(v,{children:n("onboarding.user.usage")}),e.jsxs(fe,{onValueChange:m.onChange,defaultValue:m.value,children:[e.jsx(S,{children:e.jsx(he,{children:e.jsx(xe,{placeholder:n("onboarding.placeholders.usage")})})}),e.jsx(ge,{children:Br.map(g=>e.jsx(Z,{value:g.value,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{icon:g.icon}),n(`onboarding.user.goals.${g.value}`)]})},g.value))})]}),e.jsx(w,{})]})}),e.jsx(y,{control:i.control,name:"purchase_timeframe",render:({field:m})=>e.jsxs(_,{children:[e.jsx(v,{children:n("onboarding.user.purchase_time")}),e.jsxs(fe,{onValueChange:m.onChange,defaultValue:m.value,children:[e.jsx(S,{children:e.jsx(he,{children:e.jsx(xe,{placeholder:n("onboarding.placeholders.buying_time")})})}),e.jsxs(ge,{children:[e.jsx(Z,{value:"immediate",children:n("onboarding.user.timeframes.immediate")}),e.jsx(Z,{value:"1-3_months",children:n("onboarding.user.timeframes.1-3_months")}),e.jsx(Z,{value:"3-6_months",children:n("onboarding.user.timeframes.3-6_months")}),e.jsx(Z,{value:"planning",children:n("onboarding.user.timeframes.planning")})]})]}),e.jsx(w,{})]})})]})}),e.jsx(En,{className:"flex justify-between px-0 pt-4",children:s===1?e.jsxs(H,{type:"button",onClick:x,className:"w-full",children:[n("onboarding.user.next")," ",e.jsx(F,{icon:"mdi:arrow-right",className:"ml-2"})]}):e.jsxs("div",{className:"flex gap-4 w-full",children:[e.jsx(H,{type:"button",variant:"outline",onClick:u,className:"flex-1",children:n("onboarding.user.back")}),e.jsxs(H,{type:"submit",className:"flex-1",disabled:r,children:[r?e.jsx(F,{icon:"mdi:loading",className:"animate-spin mr-2"}):null,n("onboarding.user.submit")]})]})})]})})})]})}function zr(){const{t:n}=Se(),[r,t]=c.useState(!1),s=ce(),o=oe({business_name:A().min(2,n("onboarding.dealer.validation.name_length")),tax_id:A().optional(),license_number:A().optional(),inventory_size:je(["0-10","10-50","50+"]).optional(),feed_url:A().url(n("onboarding.dealer.validation.url_invalid")).optional().or(wn(""))}),{form:l,triggerConfetti:a}=De("dealer",{resolver:we(o),defaultValues:{business_name:"",tax_id:"",license_number:"",feed_url:""}});async function i(d){t(!0);try{B.success(n("onboarding.dealer.success")),a(),setTimeout(()=>{s("/")},1e3)}catch{B.error(n("onboarding.dealer.failure"))}finally{t(!1)}}return e.jsxs(Ne,{children:[e.jsx(Pe,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(Ee,{children:n("onboarding.dealer.title")}),e.jsx(Re,{children:n("onboarding.dealer.description")})]}),e.jsxs(Rn,{variant:"secondary",className:"flex gap-1 items-center",children:[e.jsx(F,{icon:"mdi:shield-check",className:"text-green-600"}),n("onboarding.dealer.program")]})]})}),e.jsx(Te,{children:e.jsx(Ce,{...l,children:e.jsxs("form",{onSubmit:l.handleSubmit(i),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(y,{control:l.control,name:"business_name",render:({field:d})=>e.jsxs(_,{children:[e.jsx(v,{children:n("onboarding.dealer.business_name")}),e.jsx(S,{children:e.jsx(R,{placeholder:n("onboarding.placeholders.dealer_name"),...d})}),e.jsx(w,{})]})}),e.jsx(y,{control:l.control,name:"tax_id",render:({field:d})=>e.jsxs(_,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{children:n("onboarding.dealer.tax_id")}),e.jsxs(ee,{children:[e.jsx(ne,{type:"button",children:e.jsx(F,{icon:"mdi:help-circle-outline",className:"text-muted-foreground h-4 w-4"})}),e.jsx(re,{children:e.jsx("p",{children:n("onboarding.dealer.tax_id_desc")})})]})]}),e.jsx(S,{children:e.jsx(R,{placeholder:n("onboarding.placeholders.license"),...d})}),e.jsx(w,{})]})}),e.jsx(y,{control:l.control,name:"license_number",render:({field:d})=>e.jsxs(_,{children:[e.jsx(v,{children:n("onboarding.dealer.license")}),e.jsx(S,{children:e.jsx(R,{placeholder:n("onboarding.placeholders.dealer_license"),...d})}),e.jsx(w,{})]})}),e.jsx(y,{control:l.control,name:"inventory_size",render:({field:d})=>e.jsxs(_,{children:[e.jsx(v,{children:n("onboarding.dealer.inventory_size")}),e.jsxs(fe,{onValueChange:d.onChange,defaultValue:d.value,children:[e.jsx(S,{children:e.jsx(he,{children:e.jsx(xe,{placeholder:n("onboarding.placeholders.sales_volume")})})}),e.jsx(ge,{children:Or.map(f=>e.jsxs(Z,{value:f,children:[f," ",n("common.vehicle")]},f))})]}),e.jsx(w,{})]})})]}),e.jsx(y,{control:l.control,name:"feed_url",render:({field:d})=>e.jsxs(_,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{children:n("onboarding.dealer.feed_url")}),e.jsxs(ee,{children:[e.jsx(ne,{type:"button",children:e.jsx(F,{icon:"mdi:help-circle-outline",className:"text-muted-foreground h-4 w-4"})}),e.jsx(re,{children:e.jsx("p",{children:n("onboarding.dealer.feed_url_desc")})})]})]}),e.jsx(S,{children:e.jsx(R,{placeholder:n("onboarding.placeholders.feed_url"),...d})}),e.jsx(Cn,{children:n("onboarding.dealer.feed_format_hint")}),e.jsx(w,{})]})}),e.jsxs(H,{type:"submit",className:"w-full",disabled:r,children:[r?e.jsx(F,{icon:"mdi:loading",className:"animate-spin mr-2"}):null,n("onboarding.dealer.submit")]})]})})})]})}function Hr(){const{t:n}=Se(),[r,t]=c.useState(!1),[s,o]=c.useState(!1),[l,a]=c.useState(null),[i,d]=c.useState(null),[,f]=c.useState([]),{isAuthenticated:x,userRole:u,companyId:m}=Ge(),g=ce(),[b,N]=c.useState([]),[P,T]=c.useState(!0),z=oe({name:A().min(2,n("onboarding.company.validation.name_length")),slug:A().optional(),base_price:G().min(0,n("onboarding.company.validation.price_negative")),price_per_mile:G().min(0,n("onboarding.company.validation.price_negative")),customs_fee:G().min(0).optional(),service_fee:G().min(0).optional(),broker_fee:G().min(0).optional(),insurance:G().min(0).optional(),description:A().optional(),country:A().optional(),city:A().optional(),contact_email:A().email().optional(),website:A().url().optional(),established_year:G().optional(),phone_number:A().optional(),services:ie(A()).optional(),social_links:ie(oe({id:Nn([A(),Pn()]).optional(),url:A().url()})).optional()}),{form:j,triggerConfetti:I}=De("company",{resolver:we(z),defaultValues:{name:"",slug:"",base_price:0,price_per_mile:0,customs_fee:0,service_fee:0,broker_fee:0,insurance:0,description:"",country:"",city:"",phone_number:"",contact_email:"",website:"",established_year:new Date().getFullYear(),services:[],social_links:[]}});c.useEffect(()=>{if(!x||u!=="company"||!m)return;let p=!0;return o(!0),kn(m).then(h=>{if(!h||!p)return;const $=Array.isArray(h.services)?h.services:[],M=Array.isArray(h.social_links)?h.social_links:[],V=(()=>{if(typeof h.established_year!="number"||Number.isNaN(h.established_year))return new Date(h.created_at).getFullYear();const D=h.established_year;if(D>=1900&&D<=2100)return D;const O=new Date(D*1e3).getUTCFullYear();return O>=1900&&O<=2100?O:new Date(h.created_at).getFullYear()})(),E=M.filter(D=>D&&typeof D.url=="string"&&D.url.trim().length>0).map(D=>({id:D.id,url:(D.url??"").trim()}));f(E.map(D=>D.url));let C=null;const k=typeof h.logo_url=="string"&&h.logo_url.trim().length>0?h.logo_url.trim():typeof h.logo=="string"&&h.logo.trim().length>0?h.logo.trim():null;k&&(k.startsWith(Ve)?C=k.slice(Ve.length)||"/":C=k),d(C),j.reset({name:h.name||"",slug:h.slug||"",base_price:Number(h.base_price)||0,price_per_mile:Number(h.price_per_mile)||0,customs_fee:Number(h.customs_fee)||0,service_fee:Number(h.service_fee)||0,broker_fee:Number(h.broker_fee)||0,insurance:h.insurance!=null&&Number(h.insurance)||0,description:h.description_eng||h.description_geo||h.description_rus||"",country:h.country||"",city:h.city||"",phone_number:h.phone_number||"",contact_email:h.contact_email||"",website:h.website||"",established_year:V,services:$,social_links:E})}).catch(h=>{}).finally(()=>{p&&o(!1)}),()=>{p=!1}},[x,u,m,j]),c.useEffect(()=>{let p=!0;async function h(){try{const $=await In();p&&N($)}catch{}finally{p&&T(!1)}}return h(),()=>{p=!1}},[]);async function W(p){if(!m){B.error(n("onboarding.company.failure"));return}t(!0);try{const h=Array.isArray(p.services)?p.services.filter(C=>typeof C=="string"&&C.trim().length>0):[],$=Array.isArray(p.social_links)?p.social_links.filter(C=>C&&typeof C.url=="string"&&C.url.trim().length>0):[],M=typeof p.established_year=="number"?p.established_year:new Date().getFullYear(),V={name:p.name,base_price:p.base_price,customs_fee:p.customs_fee??void 0,service_fee:p.service_fee??void 0,broker_fee:p.broker_fee??void 0,insurance:p.insurance??void 0,price_per_mile:p.price_per_mile,description:p.description||null,country:p.country||null,city:p.city||null,phone_number:p.phone_number||null,contact_email:p.contact_email||null,website:p.website||null,established_year:M,services:h.length>0?h:void 0};await An(m,V);const E=$.filter(C=>!C.id);if(E.length>0){const C=k=>k.toLowerCase().includes("instagram.com")?"instagram":"facebook";await Promise.all(E.map(k=>Vn(m,"social",k.url.trim(),C(k.url))))}if(l)try{await Fn(m,l)}catch{B.error(n("onboarding.company.failure"));return}B.success(n("onboarding.company.success")),I(),setTimeout(()=>{g("/")},1e3)}catch{B.error(n("onboarding.company.failure"))}finally{t(!1)}}return e.jsxs(Ne,{children:[e.jsxs(Pe,{children:[e.jsx(Ee,{children:n("onboarding.company.title")}),e.jsx(Re,{children:n("onboarding.company.description")})]}),e.jsx(Te,{children:e.jsx(Ce,{...j,children:e.jsxs("form",{onSubmit:j.handleSubmit(W),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(y,{control:j.control,name:"name",render:({field:p})=>e.jsxs(_,{children:[e.jsx(v,{children:n("onboarding.company.name")}),e.jsx(S,{children:e.jsx(R,{placeholder:n("onboarding.placeholders.company_name"),...p})}),e.jsx(w,{})]})}),e.jsx(y,{control:j.control,name:"slug",render:({field:p})=>e.jsxs(_,{children:[e.jsx(v,{children:"Slug"}),e.jsx(S,{children:e.jsx(R,{placeholder:"company-slug",...p})}),e.jsx(w,{})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{children:"Company Logo"}),i&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:i,alt:"Current company logo",className:"h-12 w-12 rounded-md object-contain border"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Current logo"})]}),e.jsx(S,{children:e.jsx(R,{type:"file",accept:"image/*",onChange:p=>{const h=p.target.files?.[0]??null;a(h)}})}),e.jsx(w,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(y,{control:j.control,name:"contact_email",render:({field:p})=>e.jsxs(_,{children:[e.jsx(v,{children:"Contact Email"}),e.jsx(S,{children:e.jsx(R,{type:"email",placeholder:"email@company.com",...p})}),e.jsx(w,{})]})}),e.jsx(y,{control:j.control,name:"phone_number",render:({field:p})=>e.jsxs(_,{children:[e.jsx(v,{children:n("onboarding.company.contact_phone")}),e.jsx(S,{children:e.jsx(R,{placeholder:n("auth.placeholders.phone"),...p})}),e.jsx(w,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(y,{control:j.control,name:"country",render:({field:p})=>e.jsxs(_,{children:[e.jsx(v,{children:"Country"}),e.jsx(S,{children:e.jsx(R,{placeholder:"Country",...p})}),e.jsx(w,{})]})}),e.jsx(y,{control:j.control,name:"city",render:({field:p})=>e.jsxs(_,{children:[e.jsx(v,{children:"City"}),e.jsx(S,{children:e.jsx(R,{placeholder:"City",...p})}),e.jsx(w,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(y,{control:j.control,name:"website",render:({field:p})=>e.jsxs(_,{children:[e.jsx(v,{children:"Website"}),e.jsx(S,{children:e.jsx(R,{placeholder:"https://example.com",...p})}),e.jsx(w,{})]})}),e.jsx(y,{control:j.control,name:"established_year",render:({field:p})=>e.jsxs(_,{children:[e.jsx(v,{children:"Established Year"}),e.jsx(S,{children:e.jsx(R,{type:"number",placeholder:"e.g. 2015",...p})}),e.jsx(w,{})]})})]}),e.jsx(y,{control:j.control,name:"description",render:({field:p})=>e.jsxs(_,{children:[e.jsx(v,{children:"Description"}),e.jsx(S,{children:e.jsx(Tn,{placeholder:"Company description...",...p})}),e.jsx(w,{})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsx(y,{control:j.control,name:"base_price",render:({field:p})=>e.jsxs(_,{children:[e.jsx(v,{children:n("onboarding.company.base_fee")}),e.jsx(S,{children:e.jsx(R,{type:"number",placeholder:"0",...p})}),e.jsx(w,{})]})}),e.jsx(y,{control:j.control,name:"price_per_mile",render:({field:p})=>e.jsxs(_,{children:[e.jsx(v,{children:n("onboarding.company.price_per_mile")}),e.jsx(S,{children:e.jsx(R,{type:"number",placeholder:"0.00",step:"0.01",...p})}),e.jsx(w,{})]})}),e.jsx(y,{control:j.control,name:"customs_fee",render:({field:p})=>e.jsxs(_,{children:[e.jsx(v,{children:"Customs Fee"}),e.jsx(S,{children:e.jsx(R,{type:"number",placeholder:"0",...p})}),e.jsx(w,{})]})}),e.jsx(y,{control:j.control,name:"service_fee",render:({field:p})=>e.jsxs(_,{children:[e.jsx(v,{children:"Service Fee"}),e.jsx(S,{children:e.jsx(R,{type:"number",placeholder:"0",...p})}),e.jsx(w,{})]})}),e.jsx(y,{control:j.control,name:"broker_fee",render:({field:p})=>e.jsxs(_,{children:[e.jsx(v,{children:"Broker Fee"}),e.jsx(S,{children:e.jsx(R,{type:"number",placeholder:"0",...p})}),e.jsx(w,{})]})}),e.jsx(y,{control:j.control,name:"insurance",render:({field:p})=>e.jsxs(_,{children:[e.jsx(v,{children:"Insurance"}),e.jsx(S,{children:e.jsx(R,{type:"number",placeholder:"0",...p})}),e.jsx(w,{})]})})]}),e.jsx(y,{control:j.control,name:"services",render:()=>e.jsxs(_,{children:[e.jsx("div",{className:"mb-4",children:e.jsx(v,{className:"text-base",children:n("onboarding.company.services")})}),P?e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(F,{icon:"mdi:loading",className:"h-4 w-4 animate-spin"}),e.jsx("span",{className:"text-sm",children:"Loading services..."})]}):e.jsx("div",{className:"grid grid-cols-2 gap-2",children:b.map(p=>e.jsx(y,{control:j.control,name:"services",render:({field:h})=>e.jsxs(_,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx(S,{children:e.jsx(ze,{checked:h.value?.includes(p.name),onCheckedChange:$=>$?h.onChange([...h.value||[],p.name]):h.onChange(h.value?.filter(M=>M!==p.name))})}),e.jsx(v,{className:"font-normal",children:p.name})]},p.id)},p.id))}),e.jsx(w,{})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{children:"Social Links"}),j.watch("social_links")?.map((p,h)=>e.jsx(y,{control:j.control,name:`social_links.${h}.url`,render:({field:$})=>e.jsxs(_,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{children:e.jsx(R,{placeholder:"https://social.com/...",...$})}),e.jsx(H,{type:"button",variant:"ghost",size:"icon",onClick:async()=>{const M=j.getValues("social_links")||[],V=M[h];j.setValue("social_links",M.filter((C,k)=>k!==h));const E=(V?.url??"").trim();if(E&&f(C=>C.filter(k=>k!==E)),V&&V.id)try{await Dn(V.id)}catch{B.error(n("onboarding.company.failure"))}},children:e.jsx(F,{icon:"mdi:trash-can-outline",className:"h-4 w-4"})})]}),e.jsx(w,{})]})},h)),e.jsx(H,{type:"button",variant:"outline",size:"sm",onClick:()=>{const p=j.getValues("social_links")||[];j.setValue("social_links",[...p,{url:""}])},children:"Add Social Link"})]}),e.jsxs(H,{type:"submit",className:"w-full",disabled:r||s,children:[r?e.jsx(F,{icon:"mdi:loading",className:"animate-spin mr-2"}):null,n("onboarding.company.submit")]})]})})})]})}const st=()=>{const[n,r]=c.useState("user"),[t,s]=c.useState(!0),[o,l]=c.useState(null),a=vn(),i=ce(),{isAuthenticated:d,userRole:f}=Ge();c.useEffect(()=>{const u=setTimeout(()=>{s(!1)},800);return()=>clearTimeout(u)},[]),c.useEffect(()=>{if(d&&a.pathname==="/onboarding"){if(!f)return;let u=f;f==="dealer"?u="dealer":f==="company"?u="company":u="user",i(`/onboarding/${u}`,{replace:!0})}},[d,f,a.pathname,i]),c.useEffect(()=>{const u=a.pathname;let m=null;if(u.startsWith("/onboarding/")){const b=u.split("/")[2];(b==="user"||b==="dealer"||b==="company")&&(m=b)}if(!m){const b=new URLSearchParams(a.search).get("type");(b==="user"||b==="dealer"||b==="company")&&(m=b)}m&&(r(m),l(m))},[a.pathname,a.search]);const x=()=>{B.success("Progress saved! You can continue later."),i("/")};return t?e.jsx("div",{className:"min-h-screen bg-background flex flex-col items-center py-10 px-4",children:e.jsxs("div",{className:"w-full max-w-4xl space-y-8",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx(ue,{className:"h-10 w-3/4 mx-auto mb-4"}),e.jsx(ue,{className:"h-4 w-1/2 mx-auto"})]}),e.jsx(ue,{className:"h-[400px] w-full rounded-xl"})]})}):e.jsx("div",{className:"min-h-screen bg-background flex flex-col items-center py-10 px-4",children:e.jsxs("div",{className:"w-full max-w-4xl space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{className:"text-center md:text-left space-y-2",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Welcome to Trusted Importers"}),e.jsx("p",{className:"text-muted-foreground",children:"Let's customize your experience based on your role."})]}),e.jsxs(H,{variant:"outline",onClick:x,className:"hidden sm:flex",children:[e.jsx(F,{icon:"mdi:content-save-outline",className:"mr-2"}),"Save for Later"]})]}),e.jsxs(yn,{value:n,onValueChange:r,className:"w-full",children:[!o&&e.jsxs(_n,{className:"grid w-full grid-cols-3 h-auto p-1",children:[e.jsxs(ee,{children:[e.jsx(ne,{asChild:!0,children:e.jsxs(me,{value:"user",className:"py-3 flex flex-col gap-1",children:[e.jsx(F,{icon:"mdi:account",className:"h-5 w-5"}),e.jsx("span",{children:"I'm a Buyer"})]})}),e.jsx(re,{children:e.jsx("p",{children:"Find cars to buy"})})]}),e.jsxs(ee,{children:[e.jsx(ne,{asChild:!0,children:e.jsxs(me,{value:"dealer",className:"py-3 flex flex-col gap-1",children:[e.jsx(F,{icon:"mdi:store",className:"h-5 w-5"}),e.jsx("span",{children:"I'm a Dealer"})]})}),e.jsx(re,{children:e.jsx("p",{children:"Sell cars and manage inventory"})})]}),e.jsxs(ee,{children:[e.jsx(ne,{asChild:!0,children:e.jsxs(me,{value:"company",className:"py-3 flex flex-col gap-1",children:[e.jsx(F,{icon:"mdi:truck-fast",className:"h-5 w-5"}),e.jsx("span",{children:"Logistics"})]})}),e.jsx(re,{children:e.jsx("p",{children:"Provide shipping and services"})})]})]}),e.jsx(pe,{value:"user",className:"mt-6",children:e.jsx(Gr,{})}),e.jsx(pe,{value:"dealer",className:"mt-6",children:e.jsx(zr,{})}),e.jsx(pe,{value:"company",className:"mt-6",children:e.jsx(Hr,{})})]})]})})};export{st as default};
