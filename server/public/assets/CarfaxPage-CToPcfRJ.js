import{a6 as ve,a7 as oe,a8 as de,a9 as ye,aa as be,r as g,ab as U,ac as Q,ad as F,ae as je,af as re,ag as Ne,a as se,b as we,j as e,I as N,B as z,A as me,m as he,ah as _e,C as Se,S as T}from"./index-BydXXFGn.js";import{C as R,c as D}from"./card-LFe0y43q.js";import{B as K}from"./badge-Diep7QmL.js";var G,ie;function Ee(){return ie||(ie=1,G={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),G}var Ae=Ee();const Ce=ve(Ae);var ke=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function le(t){var n={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},s=t.match(/<\/?([^\s]+?)[/\s>]/);if(s&&(n.name=s[1],(Ce[s[1]]||t.charAt(t.length-2)==="/")&&(n.voidElement=!0),n.name.startsWith("!--"))){var a=t.indexOf("-->");return{type:"comment",comment:a!==-1?t.slice(4,a):""}}for(var r=new RegExp(ke),l=null;(l=r.exec(t))!==null;)if(l[0].trim())if(l[1]){var c=l[1].trim(),p=[c,""];c.indexOf("=")>-1&&(p=c.split("=")),n.attrs[p[0]]=p[1],r.lastIndex--}else l[2]&&(n.attrs[l[2]]=l[3].trim().substring(1,l[3].length-1));return n}var Ie=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,$e=/^\s*$/,Oe=Object.create(null);function pe(t,n){switch(n.type){case"text":return t+n.content;case"tag":return t+="<"+n.name+(n.attrs?(function(s){var a=[];for(var r in s)a.push(r+'="'+s[r]+'"');return a.length?" "+a.join(" "):""})(n.attrs):"")+(n.voidElement?"/>":">"),n.voidElement?t:t+n.children.reduce(pe,"")+"</"+n.name+">";case"comment":return t+"<!--"+n.comment+"-->"}}var Ve={parse:function(t,n){n||(n={}),n.components||(n.components=Oe);var s,a=[],r=[],l=-1,c=!1;if(t.indexOf("<")!==0){var p=t.indexOf("<");a.push({type:"text",content:p===-1?t:t.substring(0,p)})}return t.replace(Ie,function(u,m){if(c){if(u!=="</"+s.name+">")return;c=!1}var d,x=u.charAt(1)!=="/",S=u.startsWith("<!--"),v=m+u.length,y=t.charAt(v);if(S){var C=le(u);return l<0?(a.push(C),a):((d=r[l]).children.push(C),a)}if(x&&(l++,(s=le(u)).type==="tag"&&n.components[s.name]&&(s.type="component",c=!0),s.voidElement||c||!y||y==="<"||s.children.push({type:"text",content:t.slice(v,t.indexOf("<",v))}),l===0&&a.push(s),(d=r[l-1])&&d.children.push(s),r[l]=s),(!x||s.voidElement)&&(l>-1&&(s.voidElement||s.name===u.slice(2,-1))&&(l--,s=l===-1?a:r[l]),!c&&y!=="<"&&y)){d=l===-1?a:r[l].children;var j=t.indexOf("<",v),f=t.slice(v,j===-1?void 0:j);$e.test(f)&&(f=" "),(j>-1&&l+d.length>=0||f!==" ")&&d.push({type:"text",content:f})}}),a},stringify:function(t){return t.reduce(function(n,s){return n+pe("",s)},"")}};const X=(t,n)=>{if(!t)return!1;const s=t.props?.children??t.children;return n?s.length>0:!!s},ee=t=>{if(!t)return[];const n=t.props?.children??t.children;return t.props?.i18nIsDynamicList?B(n):n},Le=t=>Array.isArray(t)&&t.every(g.isValidElement),B=t=>Array.isArray(t)?t:[t],Te=(t,n)=>{const s={...n};return s.props=Object.assign(t.props,n.props),s},ue=(t,n,s,a)=>{if(!t)return"";let r="";const l=B(t),c=n?.transSupportBasicHtmlNodes?n.transKeepBasicHtmlNodesFor??[]:[];return l.forEach((p,u)=>{if(U(p)){r+=`${p}`;return}if(g.isValidElement(p)){const{props:m,type:d}=p,x=Object.keys(m).length,S=c.indexOf(d)>-1,v=m.children;if(!v&&S&&!x){r+=`<${d}/>`;return}if(!v&&(!S||x)||m.i18nIsDynamicList){r+=`<${u}></${u}>`;return}if(S&&x===1&&U(v)){r+=`<${d}>${v}</${d}>`;return}const y=ue(v,n,s,a);r+=`<${u}>${y}</${u}>`;return}if(p===null){Q(s,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:a});return}if(F(p)){const{format:m,...d}=p,x=Object.keys(d);if(x.length===1){const S=m?`${x[0]}, ${m}`:x[0];r+=`{{${S}}}`;return}Q(s,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:a,child:p});return}Q(s,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:a,child:p})}),r},ze=(t,n=[],s={})=>{if(!t)return t;const a=Object.keys(s),r=[...n,...a];let l="",c=0;for(;c<t.length;)if(t[c]==="<"){let p=!1;const u=t.slice(c).match(/^<\/(\d+|[a-zA-Z][a-zA-Z0-9-]*)>/);if(u){const m=u[1];(/^\d+$/.test(m)||r.includes(m))&&(p=!0,l+=u[0],c+=u[0].length)}if(!p){const m=t.slice(c).match(/^<(\d+|[a-zA-Z][a-zA-Z0-9-]*)(\s+[\w-]+(?:=(?:"[^"]*"|'[^']*'|[^\s>]+))?)*\s*(\/)?>/);if(m){const d=m[1];(/^\d+$/.test(d)||r.includes(d))&&(p=!0,l+=m[0],c+=m[0].length)}}p||(l+="&lt;",c+=1)}else l+=t[c],c+=1;return l},Fe=(t,n,s,a,r,l,c)=>{if(s==="")return[];const p=r.transKeepBasicHtmlNodesFor||[],u=s&&new RegExp(p.map(h=>`<${h}`).join("|")).test(s);if(!t&&!n&&!u&&!c)return[s];const m=n??{},d=h=>{B(h).forEach(b=>{U(b)||(X(b)?d(ee(b)):F(b)&&!g.isValidElement(b)&&Object.assign(m,b))})};d(t);const x=ze(s,p,m),S=Ve.parse(`<0>${x}</0>`),v={...m,...l},y=(h,w,b)=>{const A=ee(h),O=j(A,w.children,b);return Le(A)&&O.length===0||h.props?.i18nIsDynamicList?A:O},C=(h,w,b,A,O)=>{h.dummy?(h.children=w,b.push(g.cloneElement(h,{key:A},O?void 0:w))):b.push(...g.Children.map([h],i=>{const o="data-i18n-is-dynamic-list",_={key:A,[o]:void 0};return i&&i.props&&Object.keys(i.props).forEach(I=>{I==="ref"||I==="children"||I==="i18nIsDynamicList"||I===o||(_[I]=i.props[I])}),g.cloneElement(i,_,O?null:w)}))},j=(h,w,b)=>{const A=B(h);return B(w).reduce((i,o,_)=>{const I=o.children?.[0]?.content&&a.services.interpolator.interpolate(o.children[0].content,v,a.language);if(o.type==="tag"){let $=A[parseInt(o.name,10)];!$&&n&&($=n[o.name]),b.length===1&&!$&&($=b[0][o.name]),$||($={});const E=Object.keys(o.attrs).length!==0?Te({props:o.attrs},$):$,L=g.isValidElement(E),H=L&&X(o,!0)&&!o.voidElement,Y=u&&F(E)&&E.dummy&&!L,W=F(n)&&Object.hasOwnProperty.call(n,o.name);if(U(E)){const k=a.services.interpolator.interpolate(E,v,a.language);i.push(k)}else if(X(E)||H){const k=y(E,o,b);C(E,k,i,_)}else if(Y){const k=j(A,o.children,b);C(E,k,i,_)}else if(Number.isNaN(parseFloat(o.name)))if(W){const k=y(E,o,b);C(E,k,i,_,o.voidElement)}else if(r.transSupportBasicHtmlNodes&&p.indexOf(o.name)>-1)if(o.voidElement)i.push(g.createElement(o.name,{key:`${o.name}-${_}`}));else{const k=j(A,o.children,b);i.push(g.createElement(o.name,{key:`${o.name}-${_}`},k))}else if(o.voidElement)i.push(`<${o.name} />`);else{const k=j(A,o.children,b);i.push(`<${o.name}>${k}</${o.name}>`)}else if(F(E)&&!L){const k=o.children[0]?I:null;k&&i.push(k)}else C(E,I,i,_,o.children.length!==1||!I)}else if(o.type==="text"){const $=r.transWrapTextNodes,E=c?r.unescape(a.services.interpolator.interpolate(o.content,v,a.language)):a.services.interpolator.interpolate(o.content,v,a.language);$?i.push(g.createElement($,{key:`${o.name}-${_}`},E)):i.push(E)}return i},[])},f=j([{dummy:!0,children:t||[]}],S,B(t||[]));return ee(f[0])},xe=(t,n,s)=>{const a=t.key||n,r=g.cloneElement(t,{key:a});if(!r.props||!r.props.children||s.indexOf(`${n}/>`)<0&&s.indexOf(`${n} />`)<0)return r;function l(){return g.createElement(g.Fragment,null,r)}return g.createElement(l,{key:a})},Pe=(t,n)=>t.map((s,a)=>xe(s,a,n)),Re=(t,n)=>{const s={};return Object.keys(t).forEach(a=>{Object.assign(s,{[a]:xe(t[a],a,n)})}),s},De=(t,n,s,a)=>t?Array.isArray(t)?Pe(t,n):F(t)?Re(t,n):(oe(s,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:a}),null):null,Be=t=>!F(t)||Array.isArray(t)?!1:Object.keys(t).reduce((n,s)=>n&&Number.isNaN(Number.parseFloat(s)),!0);function He({children:t,count:n,parent:s,i18nKey:a,context:r,tOptions:l={},values:c,defaults:p,components:u,ns:m,i18n:d,t:x,shouldUnescape:S,...v}){const y=d||de();if(!y)return oe(y,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:a}),t;const C=x||y.t.bind(y)||(H=>H),j={...ye(),...y.options?.react};let f=m||C.ns||y.options?.defaultNS;f=U(f)?[f]:f||["translation"];const h=ue(t,j,y,a),w=p||l?.defaultValue||h||j.transEmptyNodeValue||(typeof a=="function"?be(a):a),{hashTransKey:b}=j,A=a||(b?b(h||w):h||w);y.options?.interpolation?.defaultVariables&&(c=c&&Object.keys(c).length>0?{...c,...y.options.interpolation.defaultVariables}:{...y.options.interpolation.defaultVariables});const O=c||n!==void 0&&!y.options?.interpolation?.alwaysFormat||!t?l.interpolation:{interpolation:{...l.interpolation,prefix:"#$?",suffix:"?$#"}},i={...l,context:r||l.context,count:n,...c,...O,defaultValue:w,ns:f};let o=A?C(A,i):w;o===A&&w&&(o=w);const _=De(u,o,y,a);let I=_||t,$=null;Be(_)&&($=_,I=t);const E=Fe(I,$,o,y,j,i,S),L=s??j.defaultTransParent;return L?g.createElement(L,v,E):E}function Me({children:t,count:n,parent:s,i18nKey:a,context:r,tOptions:l={},values:c,defaults:p,components:u,ns:m,i18n:d,t:x,shouldUnescape:S,...v}){const{i18n:y,defaultNS:C}=g.useContext(je)||{},j=d||y||de(),f=x||j?.t.bind(j);return He({children:t,count:n,parent:s,i18nKey:a,context:r,tOptions:l,values:c,defaults:p,components:u,ns:m||f?.ns||C||j?.options?.defaultNS,i18n:j,t:x,shouldUnescape:S,...v})}const Ue=(t,n)=>{if(!t||typeof t!="object")return n;const s=t;return!s.error&&!s.details?n:s.error&&s.details?`${s.error}: ${s.details}`:s.error??s.details??n};async function Je(t,n){const s={vin:t};try{const r=(await re.post(`${Ne}/vin/decode`,s,{headers:{"Content-Type":"application/json"},signal:n})).data;if(!r||typeof r!="object")throw new Error("Invalid VIN decode response");const l=r;if(l.success!==!0)throw new Error("VIN decode failed");const c=typeof l.vin=="string"?l.vin:t,p=l.data&&typeof l.data=="object"?l.data:{};return{success:!0,vin:c,data:p}}catch(a){if(re.isAxiosError(a)){const l=a.response?.data,c=Ue(l,"VIN decode failed");throw new Error(c)}throw a instanceof Error?a:new Error("VIN decode failed")}}function Ke(){const{t}=se(),[n,s]=g.useState(!1),[a,r]=g.useState(null),[l,c]=g.useState(null),p=g.useCallback(()=>{r(null),c(null)},[]),u=g.useCallback(async m=>{const d=m.trim().toUpperCase();if(!d){r(t("vin.error_vin_required")),c(null);return}if(d.length!==17){r(t("vin.error_vin_length")),c(null);return}s(!0),r(null);try{const x=await Je(d);c(x)}catch(x){x instanceof Error?r(x.message||t("vin.error_decode_failed")):r(t("vin.error_decode_failed")),c(null)}finally{s(!1)}},[t]);return{isLoading:n,error:a,result:l,submit:u,reset:p}}const Ye="wGjVHiHB8KF5uxQM44jhaLFu6nt0d4sgKy6mINceyZw";function We(t){const[n,s]=g.useState(null),[a,r]=g.useState(!1);return g.useEffect(()=>{if(!t)return;let l=!0;r(!0);const c=`unsplash_car_${t}`,p=sessionStorage.getItem(c);if(p)try{s(JSON.parse(p)),r(!1);return}catch{sessionStorage.removeItem(c)}return(async()=>{try{const m=await fetch(`https://api.unsplash.com/search/photos?query=${encodeURIComponent(t)}&per_page=1&orientation=landscape&client_id=${Ye}`);if(!m.ok)throw new Error("Failed to fetch image");const d=await m.json();if(d.results&&d.results.length>0){const x={url:d.results[0].urls.regular,photographer:d.results[0].user.name,photographerUrl:d.results[0].user.links.html};l&&(s(x),sessionStorage.setItem(c,JSON.stringify(x)))}else l&&s(null)}catch{l&&s(null)}finally{l&&r(!1)}})(),()=>{l=!1}},[t]),{image:n,isLoading:a}}const fe=["make","model","model_year","year","trim","series","body_class","vehicle_type"],ge=["engine_cylinders","engine_displacement","engine_model","engine_power","fuel_type","transmission_style","transmission_speeds","drive_type","doors","gross_vehicle_weight_rating","manufacturer","plant_country","plant_city","plant_state"],te=(t,n)=>{if(n){const a=t.toLowerCase(),r={trim:"vin.fields.trim",series:"vin.fields.series",body_class:"vin.fields.body_class",vehicle_type:"vin.fields.vehicle_type",engine_cylinders:"vin.fields.engine_cylinders",engine_displacement:"vin.fields.engine_displacement",engine_model:"vin.fields.engine_model",engine_power:"vin.fields.engine_power",fuel_type:"vin.fields.fuel_type",transmission_style:"vin.fields.transmission_style",transmission_speeds:"vin.fields.transmission_speeds",drive_type:"vin.fields.drive_type",doors:"vin.fields.doors",gross_vehicle_weight_rating:"vin.fields.gvwr",manufacturer:"vin.fields.manufacturer",plant_country:"vin.fields.plant_country",plant_city:"vin.fields.plant_city",plant_state:"vin.fields.plant_state"};if(r[a])return n(r[a])}return t.replace(/_/g," ").replace(/-/g," ").replace(/([a-z0-9])([A-Z])/g,"$1 $2").split(" ").filter(Boolean).map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" ")},ce=t=>{if(t==null)return"-";if(typeof t=="string"||typeof t=="number"||typeof t=="boolean")return String(t);if(Array.isArray(t)){const n=t.filter(s=>s==null||typeof s=="string"||typeof s=="number"||typeof s=="boolean");return n.length>0?n.map(s=>s==null?"-":String(s)).join(", "):JSON.stringify(t)}if(typeof t=="object"){const s=Object.values(t);if(s.length>0){const a=s.filter(r=>r==null||typeof r=="string"||typeof r=="number"||typeof r=="boolean");if(a.length>0)return a.map(r=>r==null?"-":String(r)).join(", ")}return JSON.stringify(t)}return String(t)},Ze=t=>{if(!t)return[];const n=Object.entries(t);if(n.length===0)return[];const s=new Map;fe.forEach((r,l)=>{s.set(r,l)});const a=new Map;return ge.forEach((r,l)=>{a.set(r,l)}),n.slice().sort((r,l)=>{const c=r[0].toLowerCase(),p=l[0].toLowerCase(),u=s.has(c),m=s.has(p),d=a.has(c),x=a.has(p);return u&&!m?-1:!u&&m?1:d&&!x?-1:!d&&x?1:u&&m?(s.get(c)??0)-(s.get(p)??0):d&&x?(a.get(c)??0)-(a.get(p)??0):c.localeCompare(p)})},qe=t=>t?`/car-logos/${t.toLowerCase().replace(/[\s-]/g,"-")}.png`:null,Qe=({vin:t,data:n})=>{const{t:s}=se(),a=we(),r=Ze(n??void 0),[l,c]=g.useState(!1),[p,u]=g.useState(!1),{vehicleTitle:m,make:d,model:x,year:S,quickStats:v,technicalSpecs:y,bodySpecs:C,otherSpecs:j,highlights:f}=g.useMemo(()=>{const i=n||{},o=i.make?String(i.make):"",_=i.model?String(i.model):"",I=i.model_year||i.year?String(i.model_year||i.year):"",$=i.trim?String(i.trim):"",E=[I,o,_,$].filter(Boolean),L=E.length>1?E.join(" "):s("vin.result_title","Vehicle Report"),H={engine:[i.engine_cylinders?`${i.engine_cylinders} Cyl`:null,i.engine_displacement?`${i.engine_displacement}L`:null,i.engine_power?`${i.engine_power}`:null].filter(Boolean).join(" / ")||i.engine_model||"N/A",transmission:[i.transmission_style,i.transmission_speeds?`${i.transmission_speeds}-Speed`:null].filter(Boolean).join(" ")||"N/A",drive:i.drive_type||"N/A",fuel:i.fuel_type||"N/A",body:i.body_class||i.vehicle_type||"N/A"},Y=new Set([...fe,"engine_cylinders","engine_displacement","engine_power","transmission_style","transmission_speeds","drive_type","fuel_type","turbo"]),W=new Set([...ge,"body_class","vehicle_type","doors","gross_vehicle_weight_rating","wheel_base","cab_type","bed_type"]),k=[],ne=[],ae=[];r.forEach(([J,q])=>{const V=J.toLowerCase();["make","model","year","model_year"].includes(V)||(Y.has(V)||V.includes("engine")||V.includes("brake")||V.includes("steering")?k.push([J,q]):W.has(V)||V.includes("weight")||V.includes("dimension")||V.includes("wheel")||V.includes("plant")?ne.push([J,q]):ae.push([J,q]))});const P=[],Z=String(i.drive_type||"").toLowerCase();return(Z.includes("awd")||Z.includes("4wd")||Z.includes("4x4"))&&P.push("AWD/4WD"),String(i.fuel_type).toLowerCase().includes("electric")&&P.push("Electric"),String(i.fuel_type).toLowerCase().includes("hybrid")&&P.push("Hybrid"),String(i.body_class).toLowerCase().includes("luxury")&&P.push("Luxury"),String(i.turbo||"").toLowerCase()==="yes"&&P.push("Turbo"),{vehicleTitle:L,make:o,model:_,year:I,quickStats:H,technicalSpecs:k,bodySpecs:ne,otherSpecs:ae,highlights:P}},[n,r,s]),{image:h}=We(`${d} ${x} ${S} car`),w=g.useMemo(()=>{if(!S)return null;const i=500,o=Math.max(0,(parseInt(S)-2010)*50);return i+o+200},[S]),b=()=>{if(!n||typeof n!="object")return;const i=[];d&&i.push(d),x&&i.push(x),S&&i.push(S);const o=i.join(" ").trim(),_=o?`?q=${encodeURIComponent(o)}`:"";a(`/catalog${_}`)},A=({label:i,value:o,index:_})=>e.jsxs("div",{className:`flex justify-between py-2 px-3 ${_%2===0?"bg-slate-50/50":"bg-white"} border-b border-slate-100 last:border-0`,children:[e.jsx("dt",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider",children:te(i,s)}),e.jsx("dd",{className:"text-xs sm:text-sm font-semibold text-slate-900 text-right pl-4",children:ce(o)})]}),O=g.useMemo(()=>qe(d),[d]);return e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 items-start",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs(R,{className:"w-full overflow-hidden border border-slate-200 shadow-lg bg-white relative",children:[h&&e.jsxs("div",{className:"absolute inset-0 h-56 w-full z-0",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-900/60 via-slate-900/40 to-white z-10"}),e.jsx("img",{src:h.url,alt:m,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute bottom-2 right-2 z-20 text-[10px] text-white/50",children:s("vin.photo_credit",{photographer:h.photographer})})]}),e.jsxs("div",{className:"relative z-10 pt-6 pb-6 px-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-start justify-between gap-4",children:[e.jsxs("div",{className:"space-y-2 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs(K,{variant:"outline",className:"font-mono text-[10px] text-slate-600 bg-white/90 border-slate-300",children:["VIN: ",t]}),e.jsxs(K,{className:"bg-accent text-slate-900 hover:bg-accent/90 border-none font-semibold",children:[e.jsx(N,{icon:"mdi:check-decagram",className:"mr-1 h-3 w-3"}),s("common.verified")]})]}),e.jsx("h2",{className:"text-2xl md:text-3xl font-bold tracking-tight text-white leading-tight drop-shadow-md",children:m}),f.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:f.map(i=>e.jsx(K,{className:"bg-emerald-600/10 text-emerald-700 border-emerald-200 hover:bg-emerald-600/20 shadow-none px-2.5 py-0.5 text-xs",children:i},i))})]}),e.jsx("div",{className:"flex-shrink-0",children:O&&!p?e.jsx("img",{src:O,alt:d,className:"h-14 w-14 md:h-20 md:w-20 object-contain",onError:()=>u(!0)}):e.jsx("div",{className:"h-14 w-14 md:h-16 md:w-16 rounded-full bg-slate-100 flex items-center justify-center",children:e.jsx(N,{icon:"mdi:car",className:"h-7 w-7 text-slate-400"})})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-6",children:[e.jsxs("div",{className:"bg-slate-50 border border-slate-200 p-3 rounded-xl flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500",children:[e.jsx(N,{icon:"mdi:engine-outline",className:"h-4 w-4"}),e.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-wider",children:s("vin.specs.engine")})]}),e.jsx("span",{className:"text-sm font-bold text-slate-900 truncate",title:v.engine,children:v.engine})]}),e.jsxs("div",{className:"bg-slate-50 border border-slate-200 p-3 rounded-xl flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500",children:[e.jsx(N,{icon:"mdi:transmission-box",className:"h-4 w-4"}),e.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-wider",children:s("vin.specs.transmission")})]}),e.jsx("span",{className:"text-sm font-bold text-slate-900 truncate",title:v.transmission,children:v.transmission})]}),e.jsxs("div",{className:"bg-slate-50 border border-slate-200 p-3 rounded-xl flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500",children:[e.jsx(N,{icon:"mdi:car-traction-control",className:"h-4 w-4"}),e.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-wider",children:s("vin.specs.drive")})]}),e.jsx("span",{className:"text-sm font-bold text-slate-900 truncate",title:v.drive,children:v.drive})]}),e.jsxs("div",{className:"bg-slate-50 border border-slate-200 p-3 rounded-xl flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500",children:[e.jsx(N,{icon:"mdi:gas-station-outline",className:"h-4 w-4"}),e.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-wider",children:s("vin.specs.fuel")})]}),e.jsx("span",{className:"text-sm font-bold text-slate-900 truncate",title:v.fuel,children:v.fuel})]})]})]}),e.jsx(D,{className:"p-0 relative z-10 bg-white",children:r.length===0?e.jsxs("div",{className:"text-center py-12 px-6",children:[e.jsx(N,{icon:"mdi:alert-circle-outline",className:"mx-auto h-12 w-12 text-slate-300 mb-3"}),e.jsx("p",{className:"text-slate-500",children:s("vin.result_empty_data","No additional data returned for this VIN.")})]}):e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 divide-y md:divide-y-0 md:divide-x divide-slate-200 border-t border-b border-slate-200",children:[e.jsxs("div",{className:"p-0",children:[e.jsxs("div",{className:"px-4 py-3 bg-slate-50 border-b border-slate-200 flex items-center gap-2",children:[e.jsx(N,{icon:"mdi:cog-outline",className:"h-4 w-4 text-slate-600"}),e.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-slate-800",children:s("vin.tech_specs_title")})]}),e.jsxs("dl",{children:[y.map(([i,o],_)=>e.jsx(A,{label:i,value:o,index:_},i)),y.length===0&&e.jsx("div",{className:"p-4 text-xs text-slate-400 italic",children:"No technical specs available."})]})]}),e.jsxs("div",{className:"p-0",children:[e.jsxs("div",{className:"px-4 py-3 bg-slate-50 border-b border-slate-200 flex items-center gap-2",children:[e.jsx(N,{icon:"mdi:car-info",className:"h-4 w-4 text-slate-600"}),e.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-slate-800",children:s("vin.body_specs_title")})]}),e.jsxs("dl",{children:[C.map(([i,o],_)=>e.jsx(A,{label:i,value:o,index:_},i)),C.length===0&&e.jsx("div",{className:"p-4 text-xs text-slate-400 italic",children:"No body specs available."})]})]})]}),j.length>0&&e.jsxs("div",{children:[e.jsxs(z,{variant:"ghost",onClick:()=>c(!l),className:"w-full justify-between bg-slate-50 hover:bg-slate-100 h-12 rounded-none px-6 border-b border-slate-200",children:[e.jsxs("span",{className:"font-semibold text-sm flex items-center gap-2 text-slate-600",children:[e.jsx(N,{icon:"mdi:clipboard-list-outline",className:"h-4 w-4"}),s("vin.additional_details"),e.jsx(K,{variant:"outline",className:"ml-1 text-[10px] h-5 px-1.5 border-slate-300 text-slate-600",children:j.length})]}),e.jsx(N,{icon:"mdi:chevron-down",className:`h-5 w-5 text-slate-500 transition-transform duration-200 ${l?"rotate-180":""}`})]}),e.jsx(me,{children:l&&e.jsx(he.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden bg-slate-50",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-x-8 gap-y-2 p-6",children:j.map(([i,o])=>e.jsxs("div",{className:"flex flex-col py-1 border-b border-slate-100",children:[e.jsx("dt",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider truncate",title:te(i,s),children:te(i,s)}),e.jsx("dd",{className:"text-xs font-medium text-slate-800 break-words",children:ce(o)})]},i))})})})]})]})})]})}),e.jsxs("div",{className:"lg:col-span-1 space-y-4 lg:sticky lg:top-24",children:[w&&e.jsxs(R,{className:"border-none shadow-lg bg-accent text-slate-900 overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-20",children:e.jsx(N,{icon:"mdi:calculator",className:"h-20 w-20"})}),e.jsxs(D,{className:"p-5 relative z-10 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-semibold opacity-80 uppercase tracking-wider",children:s("vin.est_clearing_cost")}),e.jsxs("div",{className:"text-4xl font-extrabold mt-1",children:["$",w.toLocaleString()]}),e.jsx("p",{className:"text-xs opacity-70 mt-1",children:s("vin.est_clearing_note",{year:S})})]}),e.jsxs(z,{className:"w-full font-bold bg-primary hover:bg-primary/90 text-white shadow-md",onClick:b,children:[e.jsx(N,{icon:"mdi:calculator-variant",className:"mr-2 h-4 w-4"}),s("vin.get_exact_quote")]})]})]}),e.jsx(R,{className:"border border-slate-200 shadow-sm bg-white",children:e.jsxs(D,{className:"p-5 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex -space-x-2 overflow-hidden",children:[1,2,3].map(i=>e.jsx("div",{className:"inline-block h-8 w-8 rounded-full ring-2 ring-white bg-slate-100 flex items-center justify-center",children:e.jsx(N,{icon:"mdi:account",className:"h-4 w-4 text-slate-500"})},i))}),e.jsx("div",{className:"text-sm font-semibold text-slate-900",children:s("vin.importers_match",{count:12})})]}),e.jsx("p",{className:"text-xs text-slate-500",children:e.jsx(Me,{i18nKey:"vin.verified_importers_desc",values:{make:d},components:{strong:e.jsx("strong",{className:"text-slate-700"})}})}),e.jsxs(z,{onClick:b,size:"lg",className:"w-full font-bold bg-primary hover:bg-primary/90 text-white shadow-md",children:[s("vin.show_matches"),e.jsx(N,{icon:"mdi:arrow-right",className:"ml-2 h-4 w-4"})]})]})}),e.jsx(R,{className:"border border-orange-200 shadow-sm bg-orange-50",children:e.jsxs(D,{className:"p-4 flex items-start gap-3",children:[e.jsx("div",{className:"bg-orange-100 p-2 rounded-full text-orange-600",children:e.jsx(N,{icon:"mdi:fire",className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold text-orange-800",children:s("vin.high_demand")}),e.jsx("p",{className:"text-xs text-orange-700/80 mt-0.5",children:s("vin.high_demand_desc",{count:45,model:x})})]})]})}),e.jsx(R,{className:"border border-slate-200 shadow-sm bg-white",children:e.jsxs(D,{className:"p-4 space-y-3",children:[e.jsxs("h4",{className:"text-sm font-bold text-slate-900 flex items-center gap-2",children:[e.jsx(N,{icon:"mdi:shield-check",className:"h-4 w-4 text-slate-700"}),s("vin.buy_safely")]}),e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsxs(z,{variant:"outline",size:"sm",className:"justify-start h-auto py-2 border-slate-200 hover:bg-slate-50",children:[e.jsx(N,{icon:"mdi:file-document-outline",className:"mr-2 h-4 w-4 text-slate-500"}),e.jsx("span",{className:"font-medium text-xs text-slate-700",children:s("vin.check_history")})]}),e.jsxs(z,{variant:"outline",size:"sm",className:"justify-start h-auto py-2 border-slate-200 hover:bg-slate-50",children:[e.jsx(N,{icon:"mdi:eye-outline",className:"mr-2 h-4 w-4 text-slate-500"}),e.jsx("span",{className:"font-medium text-xs text-slate-700",children:s("vin.order_inspection")})]})]})]})})]})]})},M="trustedimporters.vin.history",tt=()=>{const{t}=se(),[n]=_e(),[s,a]=g.useState(""),[r,l]=g.useState([]),[c,p]=g.useState(!1),{isLoading:u,error:m,result:d,submit:x,reset:S}=Ke(),v=async f=>{f.preventDefault(),await x(s)};g.useEffect(()=>{if(!(typeof window>"u"))try{const f=window.localStorage.getItem(M);if(!f)return;const h=JSON.parse(f);Array.isArray(h)&&l(h.filter(w=>typeof w=="string"))}catch{}},[]);const y=()=>{if(l([]),!(typeof window>"u"))try{window.localStorage.removeItem(M)}catch{}},C=f=>{l(h=>{const w=h.filter(b=>b!==f);if(typeof window<"u")try{w.length===0?window.localStorage.removeItem(M):window.localStorage.setItem(M,JSON.stringify(w))}catch{}return w})};g.useEffect(()=>{const f=n.get("vin");if(!f)return;let h=f.toUpperCase();h=h.replace(/[IOQ]/gi,""),h.length>17&&(h=h.slice(0,17)),h&&(a(h),!c&&h.length===17&&(x(h),p(!0)))},[n,c,x]),g.useEffect(()=>{d?.vin&&(typeof window>"u"||l(f=>{const h=f.filter(b=>b!==d.vin),w=[d.vin,...h].slice(0,5);try{window.localStorage.setItem(M,JSON.stringify(w))}catch{}return w}))},[d?.vin]);const j=!!d&&!m;return e.jsxs("div",{className:"flex-1 flex flex-col -mt-14 lg:-mt-24",children:[e.jsxs("section",{className:"vin-hero relative overflow-hidden",children:[e.jsx("div",{className:"pointer-events-none absolute inset-0 bg-gradient-to-br from-[var(--gradient-hero-start)] via-[var(--gradient-hero-mid)] to-[var(--gradient-hero-end)] z-0"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/5 via-transparent to-black/10 z-0"}),e.jsx("div",{className:"pointer-events-none absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[400px] rounded-full z-0",style:{background:"radial-gradient(ellipse, rgba(255,255,255,0.08) 0%, transparent 70%)"}}),e.jsx("div",{className:"vin-hero-inner relative z-10",children:e.jsx("div",{className:"w-full px-4 lg:px-8 max-w-3xl mx-auto pt-20 pb-10 md:pt-24 md:pb-14 lg:pt-32 lg:pb-16",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("h1",{className:"text-3xl md:text-4xl lg:text-[44px] font-semibold leading-tight tracking-tight text-white",children:t("vin.title")}),e.jsx("p",{className:"text-base md:text-lg text-white/80 max-w-xl mx-auto",children:t("vin.subtitle")})]}),e.jsxs("form",{onSubmit:v,className:"space-y-4 pt-2",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 max-w-2xl mx-auto",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 z-10 text-slate-400",children:e.jsx(N,{icon:"mdi:barcode-scan",className:"h-5 w-5"})}),e.jsx(Se,{id:"vin",value:s,autoFocus:!0,onChange:f=>{let h=f.target.value.toUpperCase();h=h.replace(/[IOQ]/gi,""),h.length>17&&(h=h.slice(0,17)),m&&S(),a(h)},placeholder:t("vin.vin_placeholder"),className:"h-14 pl-12 text-lg uppercase tracking-widest font-mono bg-white text-slate-900 border-0 shadow-lg focus:ring-2 focus:ring-white/30 placeholder:text-slate-400","aria-invalid":!!m,"aria-describedby":m?"vin-error":void 0,maxLength:17})]}),e.jsx(z,{type:"submit",disabled:u||s.length<17,size:"lg",className:"h-14 px-10 font-semibold text-base bg-accent hover:bg-accent/90 text-[var(--gradient-hero-start)] shadow-lg",children:u?e.jsxs(e.Fragment,{children:[e.jsx(N,{icon:"mdi:loading",className:"me-2 h-5 w-5 animate-spin"}),t("vin.check_btn_loading","Checking...")]}):t("vin.check_btn")})]}),e.jsx("p",{className:"text-xs text-white/60 text-center",children:t("vin.vin_hint","Enter a 17-character VIN (letters A-Z except I, O, Q and digits 0-9).")})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-6 pt-4 text-sm text-white/70",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{icon:"mdi:shield-check",className:"w-4 h-4 text-white/50"}),e.jsx("span",{children:t("vin.feature_accurate","Accurate Data")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{icon:"mdi:clock-fast",className:"w-4 h-4 text-white/50"}),e.jsx("span",{children:t("vin.feature_instant","Instant Results")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{icon:"mdi:file-document-check",className:"w-4 h-4 text-white/50"}),e.jsx("span",{children:t("vin.feature_detailed","Full Specs")})]})]}),r.length>0&&e.jsxs("div",{className:"pt-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-white/70",children:[e.jsx(N,{icon:"mdi:history",className:"h-4 w-4"}),e.jsxs("span",{children:[t("vin.recent_checks"),":"]}),e.jsx(z,{type:"button",variant:"link",size:"sm",className:"h-auto p-0 text-xs text-white/50 hover:text-red-400",onClick:y,children:t("common.clear_all")})]}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:r.map(f=>e.jsxs("div",{className:"group relative inline-flex items-center",children:[e.jsx("button",{type:"button",onClick:()=>{a(f),m&&S()},className:"flex items-center gap-2 rounded-lg bg-white/10 border border-white/15 px-3 py-1.5 text-xs font-mono font-medium uppercase tracking-wide text-white/80 hover:bg-white/20 hover:border-white/25 transition-all",children:f}),e.jsx("button",{type:"button",onClick:h=>{h.stopPropagation(),C(f)},className:"absolute -top-1 -right-1 h-4 w-4 rounded-full bg-white/20 text-white opacity-0 group-hover:opacity-100 transition-all flex items-center justify-center hover:bg-red-500 hover:text-white","aria-label":t("vin.remove_history_tooltip"),children:e.jsx(N,{icon:"mdi:close",className:"h-3 w-3"})})]},f))})]})]})})})]}),e.jsx("main",{className:"flex-1 bg-slate-50",role:"main","aria-label":t("vin.title"),children:e.jsx("div",{className:"w-full px-4 lg:px-8 lg:max-w-[1440px] lg:mx-auto py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[m&&e.jsxs("div",{id:"vin-error",role:"alert",className:"rounded-xl border border-red-200 bg-red-50 p-4 text-red-700 flex items-center gap-3",children:[e.jsx(N,{icon:"mdi:alert-circle",className:"h-5 w-5 flex-shrink-0"}),e.jsx("p",{className:"text-sm font-medium",children:m})]}),u&&!j&&e.jsx(R,{className:"border border-slate-200 shadow-sm",children:e.jsxs(D,{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(T,{className:"h-12 w-12 rounded-full"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(T,{className:"h-5 w-48"}),e.jsx(T,{className:"h-4 w-32"})]})]}),e.jsxs("div",{className:"space-y-2 pt-4",children:[e.jsx(T,{className:"h-4 w-full max-w-md"}),e.jsx(T,{className:"h-4 w-full max-w-sm"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 pt-4",children:[1,2,3].map(f=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(T,{className:"h-3 w-16"}),e.jsx(T,{className:"h-6 w-full"})]},f))})]})}),!j&&!m&&!u&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx(N,{icon:"mdi:car-search",className:"h-24 w-24 mx-auto text-slate-300 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-slate-400",children:t("vin.empty_state_hint")})]}),e.jsx(me,{mode:"wait",children:j&&d&&e.jsx(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},children:e.jsx(Qe,{vin:d.vin,data:d.data})})})]})})})]})};export{tt as default};
