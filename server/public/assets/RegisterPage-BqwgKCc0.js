import{a as C,x as S,b as k,r as l,j as e,m as r,B as h,I as t,L as u,W as x,J as E}from"./index-CkuIqbOT.js";import{C as F,b as L,c as T,a as q}from"./card-DV1kw_vS.js";import{L as g}from"./label-rpu1iuvE.js";import{S as I}from"./SocialAuthButtons-DzIr6Ri_.js";const z=()=>{const{t:s}=C(),{register:w,isLoading:i}=S(),p=k(),[o,y]=l.useState(""),[n,v]=l.useState(""),[c,f]=l.useState(""),[j,d]=l.useState(""),N=async a=>{if(a.preventDefault(),d(""),!o||!n||!c){d(s("auth.register.error.required"));return}try{await w(n,o,c),p("/dashboard",{replace:!0})}catch(m){const b=m instanceof Error&&m.message?m.message:s("auth.register.error.generic");d(b)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30 px-4 py-10",children:e.jsx(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},className:"w-full max-w-md",children:e.jsxs(F,{className:"w-full shadow-lg border-0 sm:border sm:shadow-sm overflow-hidden",role:"form","aria-label":s("auth.register.title"),children:[e.jsxs(L,{className:"space-y-2 text-center pb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(h,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-foreground",onClick:()=>p(-1),"aria-label":s("common.back"),children:e.jsx(t,{icon:"mdi:arrow-left",className:"h-4 w-4"})}),e.jsx(h,{asChild:!0,type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-foreground","aria-label":s("navigation.home"),children:e.jsx(u,{to:"/",children:e.jsx(t,{icon:"mdi:home",className:"h-4 w-4"})})})]}),e.jsx(u,{to:"/",className:"mx-auto flex items-center gap-2 mb-4",children:e.jsx(r.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary text-white shadow-lg shadow-primary/20",children:e.jsx(t,{icon:"mdi:shield-check",className:"h-6 w-6"})})}),e.jsx(T,{className:"text-2xl font-bold tracking-tight",children:s("auth.register.title")}),e.jsx("p",{className:"text-sm text-muted-foreground max-w-xs mx-auto",children:s("auth.register.subtitle","Create an account to start using Trusted Importers.")})]}),e.jsxs(q,{children:[e.jsxs("form",{onSubmit:N,className:"space-y-5","aria-busy":i,children:[e.jsxs(r.div,{layout:!0,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"username",children:s("auth.register.username")}),e.jsx(x,{id:"username",value:o,onChange:a=>y(a.target.value),placeholder:s("auth.placeholders.username","johndoe"),className:"h-11",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"email",children:s("auth.register.email")}),e.jsx(x,{id:"email",type:"email",value:n,onChange:a=>v(a.target.value),placeholder:s("auth.placeholders.email","you@example.com"),className:"h-11",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"password",children:s("auth.register.password")}),e.jsx(x,{id:"password",type:"password",value:c,onChange:a=>f(a.target.value),placeholder:s("auth.placeholders.password","••••••••"),className:"h-11",required:!0})]})]}),e.jsx(E,{children:j&&e.jsx(r.div,{initial:{opacity:0,height:0,y:-10},animate:{opacity:1,height:"auto",y:0},exit:{opacity:0,height:0,y:-10},className:"overflow-hidden",children:e.jsxs("div",{className:"p-3 rounded-md bg-destructive/10 text-destructive text-sm flex items-center gap-2",role:"alert",children:[e.jsx(t,{icon:"mdi:alert-circle",className:"h-4 w-4 shrink-0"}),j]})})}),e.jsx(r.div,{whileHover:{scale:1.01},whileTap:{scale:.99},children:e.jsx(h,{type:"submit",className:"w-full h-12 font-medium text-base shadow-lg shadow-primary/20 hover:shadow-xl hover:shadow-primary/30 transition-all",disabled:i,children:i?e.jsxs(e.Fragment,{children:[e.jsx(t,{icon:"mdi:loading",className:"mr-2 h-4 w-4 animate-spin"}),s("auth.register.loading")]}):e.jsxs(e.Fragment,{children:[e.jsx(t,{icon:"mdi:account-plus",className:"mr-2 h-5 w-5"}),s("auth.register.submit")]})})})]}),e.jsxs("div",{className:"mt-8 text-center space-y-4",children:[e.jsx(I,{isLoading:i,mode:"register"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s("auth.register.has_account")," ",e.jsx(u,{to:"/login",className:"font-medium text-primary hover:text-primary/90 hover:underline underline-offset-4",children:s("auth.register.login_link")})]})]})]})]})})})};export{z as default};
