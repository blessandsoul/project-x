import{r as e,j as s,c as f,I}from"./index-CcKEVLkf.js";function N({src:a,alt:d,className:m,fallbackSrc:c="/placeholder-image.jpg",aspectRatio:p="auto",objectFit:g="cover",loading:j="lazy",...x}){const[n,t]=e.useState(!0),[h,i]=e.useState(!1),[o,l]=e.useState(a),u=e.useRef(null);e.useEffect(()=>{l(a),i(!1),t(!0)},[a]),e.useEffect(()=>{const r=u.current;r&&r.complete&&r.naturalWidth>0&&t(!1)},[o]);const v=()=>{t(!1)},E=()=>{!h&&o!==c&&(i(!0),l(c),t(!1))},b={square:"aspect-square",video:"aspect-video",portrait:"aspect-[3/4]",auto:"aspect-auto"},y={contain:"object-contain",cover:"object-cover",fill:"object-fill"};return s.jsxs("div",{className:f("relative overflow-hidden bg-muted/20",b[p],m),children:[n&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted/40 animate-pulse",children:s.jsx(I,{icon:"mdi:image-outline",className:"h-8 w-8 text-muted-foreground/50"})}),s.jsx("img",{ref:u,src:o,alt:d,loading:j,onLoad:v,onError:E,className:f("h-full w-full transition-opacity duration-500",y[g],n?"opacity-0 scale-105":"opacity-100 scale-100"),...x})]})}export{N as I};
