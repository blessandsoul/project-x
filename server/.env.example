# =============================================================================
# Server Configuration
# =============================================================================
PORT=3000
HOST=0.0.0.0
NODE_ENV=development
LOG_LEVEL=debug

# =============================================================================
# Database Configuration
# =============================================================================
MYSQL_HOST=localhost
MYSQL_USER=root
MYSQL_PASSWORD=your_password_here
MYSQL_DATABASE=myapp

# =============================================================================
# Redis Configuration (optional - server works without it)
# =============================================================================
# Option 1: Use REDIS_URL (recommended for production / cloud platforms)
# REDIS_URL=redis://:YOUR_STRONG_PASSWORD@127.0.0.1:6379/0

# Option 2: Use individual settings
REDIS_HOST=127.0.0.1
REDIS_PORT=6379
# REDIS_PASSWORD=your_redis_password_here
# REDIS_DB=0

# Advanced settings
# REDIS_KEY_PREFIX=app:
# REDIS_CONNECT_TIMEOUT=5000
# REDIS_MAX_RETRIES=3
# REDIS_ENABLED=false  # Set to 'false' to disable Redis entirely

# =============================================================================
# JWT Authentication (REQUIRED)
# =============================================================================
# IMPORTANT: Use a strong secret (32+ chars) in production!
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=7d
# JWT_ISSUER=your-app-name
# JWT_AUDIENCE=your-app-users

# =============================================================================
# Secure Cookie-based Authentication (HttpOnly Cookies)
# =============================================================================
# Access token secret (defaults to JWT_SECRET if not set)
# JWT_ACCESS_SECRET=your-access-token-secret

# Token TTLs
ACCESS_TTL_MINUTES=15
REFRESH_TTL_DAYS=14

# Cookie settings
# COOKIE_SECURE: Set to 'true' in production (HTTPS required)
COOKIE_SECURE=false
# COOKIE_SAMESITE: 'lax' for same-site, 'none' for cross-site (requires COOKIE_SECURE=true)
COOKIE_SAMESITE=lax
# COOKIE_DOMAIN: Optional, set for cross-subdomain cookies
# COOKIE_DOMAIN=.yourdomain.com

# CSRF protection secret (defaults to JWT_ACCESS_SECRET if not set)
# CSRF_SECRET=your-csrf-secret

# Maximum active sessions per user (0 = unlimited)
MAX_SESSIONS_PER_USER=10

# Trust proxy headers (set to 'true' when behind Nginx/Cloudflare)
TRUST_PROXY=false

# =============================================================================
# Security Configuration
# =============================================================================
# CORS - comma-separated list of allowed origins
CORS_ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000
CORS_ALLOW_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_MAX=100
RATE_LIMIT_TIME_WINDOW=1 minute
RATE_LIMIT_USER_LOGIN_MAX=5
# Auth-specific rate limits (for /auth/* endpoints)
RATE_LIMIT_AUTH_LOGIN_MAX=5
RATE_LIMIT_AUTH_LOGIN_WINDOW=1 minute
RATE_LIMIT_AUTH_REFRESH_MAX=30
RATE_LIMIT_AUTH_REFRESH_WINDOW=1 minute
RATE_LIMIT_AUTH_CSRF_MAX=60
RATE_LIMIT_AUTH_CSRF_WINDOW=1 minute
RATE_LIMIT_USER_LOGIN_WINDOW=5 minutes

# Password Hashing (higher = more secure but slower)
BCRYPT_SALT_ROUNDS=12

# =============================================================================
# File Uploads
# =============================================================================
# PUBLIC_UPLOADS_BASE_URL=https://api.yourdomain.com

# =============================================================================
# External APIs
# =============================================================================
# EXCHANGE_API_KEY=your-exchangerate-api-key
# AUCTION_API_EMAIL=your-email
# AUCTION_API_PASSWORD=your-password
